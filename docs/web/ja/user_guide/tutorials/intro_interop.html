

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GWExPy TimeSeries ç›¸äº’é‹ç”¨æ€§ (Interop) ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ« &mdash; GWexpy Documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/nbsphinx-code-cells.css?v=2aa19091" />

  
      <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../../../_static/design-tabs.js?v=f930bc37"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="TimeSeriesMatrix ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«" href="matrix_timeseries.html" />
    <link rel="prev" title="ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«: å…¨å¤©ãƒãƒƒãƒ—ã¨åœ°ç†ãƒãƒƒãƒ—ã®ãƒ—ãƒ­ãƒƒãƒˆ" href="intro_mapplotting.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            GWexpy
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../en/index.html">GWexpy Documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">GWexpy ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¸ã‚ˆã†ã“ã</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../index.html#id1">ã‚ãªãŸã«åˆã£ãŸã‚¬ã‚¤ãƒ‰</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#id2">è¦–è¦šçš„ãªä¾‹</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#id3">å®Ÿä¾‹ã‚®ãƒ£ãƒ©ãƒªãƒ¼</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#id4">ãƒ¦ãƒ¼ã‚¶ãƒ¼åˆ¥å­¦ç¿’ãƒ‘ã‚¹</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html#id5">ä¸»è¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../installation.html">ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quickstart.html">ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started.html">ã¯ã˜ã‚ã« (Getting Started)</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="index.html#i">I. åŸºæœ¬ãƒ‡ãƒ¼ã‚¿æ§‹é€ </a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#ii">II. å¤šãƒãƒ£ãƒ³ãƒãƒ« &amp; è¡Œåˆ—ã‚³ãƒ³ãƒ†ãƒŠ</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#iii-field-api">III. é«˜æ¬¡å…ƒãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ (Field API)</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#iv">IV. é«˜åº¦ãªä¿¡å·å‡¦ç†</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#v">V. ç‰¹æ®Šãƒ„ãƒ¼ãƒ«</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../gwexpy_for_gwpy_users_ja.html">GWexpy æ©Ÿèƒ½ä¸€è¦§ (GWpyãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../numerical_stability.html">æ•°å€¤çš„å®‰å®šæ€§ã¨ç²¾åº¦</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scalarfield_slicing.html">ã‚¹ã‚«ãƒ©ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã‚¹ãƒ©ã‚¤ã‚¹æ“ä½œã‚¬ã‚¤ãƒ‰</a></li>
<li class="toctree-l3"><a class="reference internal" href="../validated_algorithms.html">æ¤œè¨¼æ¸ˆã¿ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ </a></li>
<li class="toctree-l3"><a class="reference internal" href="../validated_algorithms.html#id2">å‰ææ¡ä»¶ã¨è¦ç´„</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../examples/index.html">å®Ÿä¾‹é›† (Examples)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/index.html">ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#id6">æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#language">è¨€èª (Language)</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">GWexpy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">GWexpy ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¸ã‚ˆã†ã“ã</a></li>
          <li class="breadcrumb-item"><a href="index.html">ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«</a></li>
      <li class="breadcrumb-item active">GWExPy TimeSeries ç›¸äº’é‹ç”¨æ€§ (Interop) ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/tatsuki-washimi/gwexpy/blob/main/docs/web/ja/user_guide/tutorials/intro_interop.ipynb" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="admonition note">
<p class="admonition-title">Note</p>
<p>ã“ã®ãƒšãƒ¼ã‚¸ã¯ Jupyter Notebook ã‹ã‚‰ç”Ÿæˆã•ã‚Œã¾ã—ãŸã€‚
<a class="reference external" href="https://github.com/tatsuki-washimi/gwexpy/raw/main/docs/web/ja/user_guide/tutorials/intro_interop.ipynb">ãƒãƒ¼ãƒˆãƒ–ãƒƒã‚¯ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ (.ipynb)</a></p>
</div>
<section id="GWExPy-TimeSeries-ç›¸äº’é‹ç”¨æ€§-(Interop)-ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«">
<h1>GWExPy TimeSeries ç›¸äº’é‹ç”¨æ€§ (Interop) ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«<a class="headerlink" href="#GWExPy-TimeSeries-ç›¸äº’é‹ç”¨æ€§-(Interop)-ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«" title="Link to this heading">ïƒ</a></h1>
<p>ã“ã®ãƒãƒ¼ãƒˆãƒ–ãƒƒã‚¯ã§ã¯ã€<code class="docutils literal notranslate"><span class="pre">gwexpy</span></code> ã® <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code> ã‚¯ãƒ©ã‚¹ã«è¿½åŠ ã•ã‚ŒãŸæ–°ã—ã„ç›¸äº’é‹ç”¨æ©Ÿèƒ½ (Interoperability Features) ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚ <code class="docutils literal notranslate"><span class="pre">gwexpy</span></code> ã¯ã€Pandas, Xarray, PyTorch, Astropy ãªã©ã®ä¸€èˆ¬çš„ãªãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚¨ãƒ³ã‚¹ãƒ»ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã®é–“ã§ã€ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ã«ãƒ‡ãƒ¼ã‚¿ã‚’å¤‰æ›ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<section id="ç›®æ¬¡">
<h2>ç›®æ¬¡<a class="headerlink" href="#ç›®æ¬¡" title="Link to this heading">ïƒ</a></h2>
<ul>
<li><ol class="arabic simple">
<li><p>æ±ç”¨ãƒ‡ãƒ¼ã‚¿å½¢å¼ãƒ»ãƒ‡ãƒ¼ã‚¿åŸºç›¤</p></li>
</ol>
<ul class="simple">
<li><p>1.1. NumPy [Original GWpy]</p></li>
<li><p>1.2. Pandas ã¨ã®é€£æº [Original GWpy]</p></li>
<li><p>1.3. Polars [GWExPy New]</p></li>
<li><p>1.4. Xarray ã¨ã®é€£æº [Original GWpy]</p></li>
<li><p>1.5. Dask ã¨ã®é€£æº [GWExPy New]</p></li>
<li><p>1.6. JSON / Python Dict (to_json) (to_json) [GWExPy New]</p></li>
</ul>
</li>
<li><ol class="arabic simple" start="2">
<li><p>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ»ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å±¤</p></li>
</ol>
<ul class="simple">
<li><p>2.1. HDF5 [Original GWpy]</p></li>
<li><p>2.2. SQLite [GWExPy New]</p></li>
<li><p>2.3. Zarr [GWExPy New]</p></li>
<li><p>2.4. netCDF4 [GWExPy New]</p></li>
</ul>
</li>
<li><ol class="arabic simple" start="3">
<li><p>æƒ…å ±ç§‘å­¦ãƒ»æ©Ÿæ¢°å­¦ç¿’ãƒ»åŠ é€Ÿè¨ˆç®—</p></li>
</ol>
<ul class="simple">
<li><p>3.1. PyTorch ã¨ã®é€£æº [GWExPy New]</p></li>
<li><p>3.2. CuPy (CUDA åŠ é€Ÿ) [GWExPy New]</p></li>
<li><p>3.3. TensorFlow ã¨ã®é€£æº [GWExPy New]</p></li>
<li><p>3.4. JAX ã¨ã®é€£æº [GWExPy New]</p></li>
</ul>
</li>
<li><ol class="arabic simple" start="4">
<li><p>å¤©æ–‡å­¦ãƒ»é‡åŠ›æ³¢ç‰©ç†å­¦</p></li>
</ol>
<ul class="simple">
<li><p>4.1. PyCBC / LAL [Original GWpy]</p></li>
<li><p>4.2. Astropy ã¨ã®é€£æº [Original GWpy]</p></li>
<li><p>4.3. Specutils ã¨ã®é€£æº [GWExPy New]</p></li>
<li><p>4.4. Pyspeckit ã¨ã®é€£æº [GWExPy New]</p></li>
</ul>
</li>
<li><ol class="arabic simple" start="5">
<li><p>ç´ ç²’å­ç‰©ç†å­¦ãƒ»é«˜ã‚¨ãƒãƒ«ã‚®ãƒ¼ç‰©ç†</p></li>
</ol>
<ul class="simple">
<li><p>5.1. CERN ROOT ã¨ã®é€£æº [GWExPy New]</p></li>
<li><p>5.2. ROOT ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰ã®å¾©å…ƒ (<code class="docutils literal notranslate"><span class="pre">from_root</span></code>)</p></li>
</ul>
</li>
<li><ol class="arabic simple" start="6">
<li><p>åœ°çƒç‰©ç†å­¦ãƒ»åœ°éœ‡å­¦ãƒ»é›»ç£æ°—å­¦</p></li>
</ol>
<ul class="simple">
<li><p>6.1. ObsPy [Original GWpy]</p></li>
<li><p>6.2. SimPEG ã¨ã®é€£æº [GWExPy New]</p></li>
<li><p>6.3. MTH5 / MTpy [GWExPy New]</p></li>
</ul>
</li>
<li><ol class="arabic simple" start="7">
<li><p>éŸ³éŸ¿ãƒ»éŸ³å£°è§£æ</p></li>
</ol>
<ul class="simple">
<li><p>7.1. Librosa / Pydub [GWExPy New]</p></li>
</ul>
</li>
<li><ol class="arabic simple" start="8">
<li><p>åŒ»å­¦ãƒ»ç”Ÿä½“ä¿¡å·è§£æ</p></li>
</ol>
<ul class="simple">
<li><p>8.1. MNE-Python [GWExPy New]</p></li>
<li><p>8.2. Elephant / quantities ã¨ã®é€£æº [GWExPy New]</p></li>
<li><p>8.3. Neo [GWExPy New]</p></li>
</ul>
</li>
<li><ol class="arabic simple" start="9">
<li><p>ã¾ã¨ã‚</p></li>
</ol>
</li>
</ul>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;TF_CPP_MIN_LOG_LEVEL&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;3&#39;
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">warnings</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">astropy</span><span class="w"> </span><span class="kn">import</span> <span class="n">units</span> <span class="k">as</span> <span class="n">u</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">gwpy.time</span><span class="w"> </span><span class="kn">import</span> <span class="n">LIGOTimeGPS</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.timeseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">TimeSeries</span>

<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">,</span> <span class="s2">&quot;Wswiglal-redir-stdio&quot;</span><span class="p">)</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="ne">UserWarning</span><span class="p">)</span>

<span class="c1"># Suppress MTH5 redundant warnings</span>
<span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;mth5.groups.base&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;mth5&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
/home/runner/miniconda3/envs/docs/lib/python3.11/site-packages/gwpy/time/_ligotimegps.py:42: UserWarning: Wswiglal-redir-stdio:

SWIGLAL standard output/error redirection is enabled in IPython.
This may lead to performance penalties. To disable locally, use:

with lal.no_swig_redirect_standard_output_error():
    ...

To disable globally, use:

lal.swig_redirect_standard_output_error(False)

Note however that this will likely lead to error messages from
LAL functions being either misdirected or lost when called from
Jupyter notebooks.

To suppress this warning, use:

import warnings
warnings.filterwarnings(&#34;ignore&#34;, &#34;Wswiglal-redir-stdio&#34;)
import lal

  from lal import LIGOTimeGPS
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">AttributeError</span>                            Traceback (most recent call last)
<span class="ansi-cyan-fg">Cell</span><span class="ansi-cyan-fg"> </span><span class="ansi-green-fg">In[2]</span><span class="ansi-green-fg">, line 9</span>
<span class="ansi-green-fg">      6</span> <span class="ansi-bold" style="color: rgb(0,135,0)">from</span><span style="color: rgb(188,188,188)"> </span><span class="ansi-blue-intense-fg ansi-bold">astropy</span><span style="color: rgb(188,188,188)"> </span><span class="ansi-bold" style="color: rgb(0,135,0)">import</span> units <span class="ansi-bold" style="color: rgb(0,135,0)">as</span> u
<span class="ansi-green-fg">      7</span> <span class="ansi-bold" style="color: rgb(0,135,0)">from</span><span style="color: rgb(188,188,188)"> </span><span class="ansi-blue-intense-fg ansi-bold">gwpy</span><span class="ansi-blue-intense-fg ansi-bold">.</span><span class="ansi-blue-intense-fg ansi-bold">time</span><span style="color: rgb(188,188,188)"> </span><span class="ansi-bold" style="color: rgb(0,135,0)">import</span> LIGOTimeGPS
<span class="ansi-green-fg">----&gt; </span><span class="ansi-green-fg">9</span> <span class="ansi-bold" style="color: rgb(0,135,0)">from</span><span style="color: rgb(188,188,188)"> </span><span class="ansi-blue-intense-fg ansi-bold">gwexpy</span><span class="ansi-blue-intense-fg ansi-bold">.</span><span class="ansi-blue-intense-fg ansi-bold">timeseries</span><span style="color: rgb(188,188,188)"> </span><span class="ansi-bold" style="color: rgb(0,135,0)">import</span> TimeSeries
<span class="ansi-green-fg">     11</span> warnings.filterwarnings(<span class="ansi-yellow-fg">&#34;</span><span class="ansi-yellow-fg">ignore</span><span class="ansi-yellow-fg">&#34;</span>, <span class="ansi-yellow-fg">&#34;</span><span class="ansi-yellow-fg">Wswiglal-redir-stdio</span><span class="ansi-yellow-fg">&#34;</span>)
<span class="ansi-green-fg">     12</span> warnings.filterwarnings(<span class="ansi-yellow-fg">&#34;</span><span class="ansi-yellow-fg">ignore</span><span class="ansi-yellow-fg">&#34;</span>, category=<span class="ansi-bold" style="color: rgb(215,95,95)">UserWarning</span>)

<span class="ansi-cyan-fg">File </span><span class="ansi-green-fg">~/miniconda3/envs/docs/lib/python3.11/site-packages/gwexpy/__init__.py:49</span>
<span class="ansi-green-fg">     44</span> warnings.filterwarnings(
<span class="ansi-green-fg">     45</span>     <span class="ansi-yellow-fg">&#34;</span><span class="ansi-yellow-fg">ignore</span><span class="ansi-yellow-fg">&#34;</span>, message=<span class="ansi-yellow-fg">&#34;</span><span class="ansi-yellow-fg">Protobuf gencode version</span><span class="ansi-yellow-fg">&#34;</span>, category=<span class="ansi-bold" style="color: rgb(215,95,95)">UserWarning</span>
<span class="ansi-green-fg">     46</span> )
<span class="ansi-green-fg">     48</span> <span style="color: rgb(95,135,135)"># Subpackages are available via namespace</span>
<span class="ansi-green-fg">---&gt; </span><span class="ansi-green-fg">49</span> <span class="ansi-bold" style="color: rgb(0,135,0)">from</span><span style="color: rgb(188,188,188)"> </span><span class="ansi-blue-intense-fg ansi-bold">.</span><span style="color: rgb(188,188,188)"> </span><span class="ansi-bold" style="color: rgb(0,135,0)">import</span> (
<span class="ansi-green-fg">     50</span>     astro,
<span class="ansi-green-fg">     51</span>     detector,
<span class="ansi-green-fg">     52</span>     frequencyseries,
<span class="ansi-green-fg">     53</span>     interop,
<span class="ansi-green-fg">     54</span>     io,
<span class="ansi-green-fg">     55</span>     noise,
<span class="ansi-green-fg">     56</span>     plot,
<span class="ansi-green-fg">     57</span>     segments,
<span class="ansi-green-fg">     58</span>     signal,
<span class="ansi-green-fg">     59</span>     spectral,
<span class="ansi-green-fg">     60</span>     spectrogram,
<span class="ansi-green-fg">     61</span>     table,
<span class="ansi-green-fg">     62</span>     time,
<span class="ansi-green-fg">     63</span>     timeseries,
<span class="ansi-green-fg">     64</span>     types,
<span class="ansi-green-fg">     65</span> )
<span class="ansi-green-fg">     66</span> <span class="ansi-bold" style="color: rgb(0,135,0)">from</span><span style="color: rgb(188,188,188)"> </span><span class="ansi-blue-intense-fg ansi-bold">.</span><span class="ansi-blue-intense-fg ansi-bold">_version</span><span style="color: rgb(188,188,188)"> </span><span class="ansi-bold" style="color: rgb(0,135,0)">import</span> __version__
<span class="ansi-green-fg">     67</span> <span class="ansi-bold" style="color: rgb(0,135,0)">from</span><span style="color: rgb(188,188,188)"> </span><span class="ansi-blue-intense-fg ansi-bold">.</span><span class="ansi-blue-intense-fg ansi-bold">fields</span><span style="color: rgb(188,188,188)"> </span><span class="ansi-bold" style="color: rgb(0,135,0)">import</span> FieldDict, FieldList, ScalarField, TensorField, VectorField

<span class="ansi-cyan-fg">File </span><span class="ansi-green-fg">~/miniconda3/envs/docs/lib/python3.11/site-packages/gwexpy/timeseries/__init__.py:36</span>
<span class="ansi-green-fg">     32</span> <span style="color: rgb(95,135,135)"># Register I/O readers on import</span>
<span class="ansi-green-fg">     33</span> <span style="color: rgb(95,135,135)"># Dynamic import from gwpy (PEP 562)</span>
<span class="ansi-green-fg">     34</span> <span class="ansi-bold" style="color: rgb(0,135,0)">import</span><span style="color: rgb(188,188,188)"> </span><span class="ansi-blue-intense-fg ansi-bold">gwpy</span><span class="ansi-blue-intense-fg ansi-bold">.</span><span class="ansi-blue-intense-fg ansi-bold">timeseries</span><span style="color: rgb(188,188,188)"> </span><span class="ansi-bold" style="color: rgb(0,135,0)">as</span><span style="color: rgb(188,188,188)"> </span><span class="ansi-blue-intense-fg ansi-bold">_gwpy_timeseries</span>
<span class="ansi-green-fg">---&gt; </span><span class="ansi-green-fg">36</span> <span class="ansi-bold" style="color: rgb(0,135,0)">from</span><span style="color: rgb(188,188,188)"> </span><span class="ansi-blue-intense-fg ansi-bold">.</span><span style="color: rgb(188,188,188)"> </span><span class="ansi-bold" style="color: rgb(0,135,0)">import</span> io <span class="ansi-bold" style="color: rgb(0,135,0)">as</span> _io  <span style="color: rgb(95,135,135)"># noqa: F401</span>
<span class="ansi-green-fg">     39</span> <span class="ansi-bold" style="color: rgb(0,135,0)">def</span><span style="color: rgb(188,188,188)"> </span><span class="ansi-blue-fg">__getattr__</span>(name):
<span class="ansi-green-fg">     40</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">try</span>:

<span class="ansi-cyan-fg">File </span><span class="ansi-green-fg">~/miniconda3/envs/docs/lib/python3.11/site-packages/gwexpy/timeseries/io/__init__.py:11</span>
<span class="ansi-green-fg">      8</span> <span class="ansi-bold" style="color: rgb(0,135,0)">from</span><span style="color: rgb(188,188,188)"> </span><span class="ansi-blue-intense-fg ansi-bold">__future__</span><span style="color: rgb(188,188,188)"> </span><span class="ansi-bold" style="color: rgb(0,135,0)">import</span> annotations
<span class="ansi-green-fg">     10</span> <span style="color: rgb(95,135,135)"># Readers are registered on import</span>
<span class="ansi-green-fg">---&gt; </span><span class="ansi-green-fg">11</span> <span class="ansi-bold" style="color: rgb(0,135,0)">from</span><span style="color: rgb(188,188,188)"> </span><span class="ansi-blue-intense-fg ansi-bold">.</span><span style="color: rgb(188,188,188)"> </span><span class="ansi-bold" style="color: rgb(0,135,0)">import</span> (
<span class="ansi-green-fg">     12</span>     ats,  <span style="color: rgb(95,135,135)"># noqa: F401</span>
<span class="ansi-green-fg">     13</span>     dttxml,  <span style="color: rgb(95,135,135)"># noqa: F401</span>
<span class="ansi-green-fg">     14</span>     gbd,  <span style="color: rgb(95,135,135)"># noqa: F401</span>
<span class="ansi-green-fg">     15</span>     sdb,  <span style="color: rgb(95,135,135)"># noqa: F401</span>
<span class="ansi-green-fg">     16</span>     seismic,  <span style="color: rgb(95,135,135)"># noqa: F401</span>
<span class="ansi-green-fg">     17</span>     stubs,  <span style="color: rgb(95,135,135)"># noqa: F401</span>
<span class="ansi-green-fg">     18</span>     tdms,  <span style="color: rgb(95,135,135)"># noqa: F401</span>
<span class="ansi-green-fg">     19</span>     wav,  <span style="color: rgb(95,135,135)"># noqa: F401</span>
<span class="ansi-green-fg">     20</span>     win,  <span style="color: rgb(95,135,135)"># noqa: F401</span>
<span class="ansi-green-fg">     21</span> )

<span class="ansi-cyan-fg">File </span><span class="ansi-green-fg">~/miniconda3/envs/docs/lib/python3.11/site-packages/gwexpy/timeseries/io/ats.py:221</span>
<span class="ansi-green-fg">    218</span> <span style="color: rgb(95,135,135)"># -- Registration</span>
<span class="ansi-green-fg">    220</span> <span class="ansi-bold" style="color: rgb(0,135,0)">for</span> fmt <span class="ansi-bold" style="color: rgb(175,0,255)">in</span> [<span class="ansi-yellow-fg">&#34;</span><span class="ansi-yellow-fg">ats</span><span class="ansi-yellow-fg">&#34;</span>]:
<span class="ansi-green-fg">--&gt; </span><span class="ansi-green-fg">221</span>     <span class="ansi-yellow-bg">io_registry</span><span class="ansi-yellow-bg">.</span><span class="ansi-yellow-bg">register_reader</span>(
<span class="ansi-green-fg">    222</span>         fmt, TimeSeriesDict, read_timeseriesdict_ats, force=<span class="ansi-bold" style="color: rgb(0,135,0)">True</span>
<span class="ansi-green-fg">    223</span>     )
<span class="ansi-green-fg">    224</span>     io_registry.register_reader(fmt, TimeSeries, read_timeseries_ats, force=<span class="ansi-bold" style="color: rgb(0,135,0)">True</span>)
<span class="ansi-green-fg">    225</span>     io_registry.register_reader(
<span class="ansi-green-fg">    226</span>         fmt,
<span class="ansi-green-fg">    227</span>         TimeSeriesMatrix,
<span class="ansi-green-fg">    228</span>         <span class="ansi-bold" style="color: rgb(0,135,0)">lambda</span> *a, **k: read_timeseriesdict_ats(*a, **k).to_matrix(),
<span class="ansi-green-fg">    229</span>         force=<span class="ansi-bold" style="color: rgb(0,135,0)">True</span>,
<span class="ansi-green-fg">    230</span>     )

<span class="ansi-red-fg">AttributeError</span>: module &#39;gwpy.io.registry&#39; has no attribute &#39;register_reader&#39;
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã®ä½œæˆ</span>
<span class="c1"># 10ç§’é–“ã€100Hzã®æ­£å¼¦æ³¢ãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆã—ã¾ã™</span>
<span class="n">rate</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">Hz</span>
<span class="n">dt</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">rate</span>
<span class="n">t0</span> <span class="o">=</span> <span class="n">LIGOTimeGPS</span><span class="p">(</span><span class="mi">1234567890</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">duration</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span>
<span class="n">size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">rate</span> <span class="o">*</span> <span class="n">duration</span><span class="p">)</span>
<span class="n">times</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">size</span><span class="p">)</span> <span class="o">*</span> <span class="n">dt</span><span class="o">.</span><span class="n">value</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">times</span><span class="p">)</span>  <span class="c1"># 1Hz sine wave</span>

<span class="n">ts</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">t0</span><span class="o">=</span><span class="n">t0</span><span class="p">,</span> <span class="n">dt</span><span class="o">=</span><span class="n">dt</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;V&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;demo_signal&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Original TimeSeries:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span>
<span class="n">ts</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Original TimeSeries&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-cyan-fg">Cell</span><span class="ansi-cyan-fg"> </span><span class="ansi-green-fg">In[3]</span><span class="ansi-green-fg">, line 11</span>
<span class="ansi-green-fg">      8</span> times = np.arange(size) * dt.value
<span class="ansi-green-fg">      9</span> data = np.sin(<span class="ansi-green-fg">2</span> * np.pi * <span class="ansi-green-fg">1.0</span> * times)  <span style="color: rgb(95,135,135)"># 1Hz sine wave</span>
<span class="ansi-green-fg">---&gt; </span><span class="ansi-green-fg">11</span> ts = <span class="ansi-yellow-bg">TimeSeries</span>(data, t0=t0, dt=dt, unit=<span class="ansi-yellow-fg">&#34;</span><span class="ansi-yellow-fg">V</span><span class="ansi-yellow-fg">&#34;</span>, name=<span class="ansi-yellow-fg">&#34;</span><span class="ansi-yellow-fg">demo_signal</span><span class="ansi-yellow-fg">&#34;</span>)
<span class="ansi-green-fg">     12</span> <span style="color: rgb(0,135,0)">print</span>(<span class="ansi-yellow-fg">&#34;</span><span class="ansi-yellow-fg">Original TimeSeries:</span><span class="ansi-yellow-fg">&#34;</span>)
<span class="ansi-green-fg">     13</span> <span style="color: rgb(0,135,0)">print</span>(ts)

<span class="ansi-red-fg">NameError</span>: name &#39;TimeSeries&#39; is not defined
</pre></div></div>
</div>
</section>
<section id="1.-æ±ç”¨ãƒ‡ãƒ¼ã‚¿å½¢å¼ãƒ»ãƒ‡ãƒ¼ã‚¿åŸºç›¤">
<h2>1. æ±ç”¨ãƒ‡ãƒ¼ã‚¿å½¢å¼ãƒ»ãƒ‡ãƒ¼ã‚¿åŸºç›¤<a class="headerlink" href="#1.-æ±ç”¨ãƒ‡ãƒ¼ã‚¿å½¢å¼ãƒ»ãƒ‡ãƒ¼ã‚¿åŸºç›¤" title="Link to this heading">ïƒ</a></h2>
<section id="1.1.-NumPy-[Original-GWpy]">
<h3>1.1. NumPy [Original GWpy]<a class="headerlink" href="#1.1.-NumPy-[Original-GWpy]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>NumPy</strong>: NumPy ã¯ Python ã®æ•°å€¤è¨ˆç®—ã®åŸºç›¤ã¨ãªã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€å¤šæ¬¡å…ƒé…åˆ—ã¨é«˜é€Ÿãªæ•°å­¦æ¼”ç®—ã‚’æä¾›ã—ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://numpy.org/">NumPy Documentation</a></p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">TimeSeries.value</span></code> ã‚„ <code class="docutils literal notranslate"><span class="pre">np.asarray(ts)</span></code> ã§ NumPy é…åˆ—ã‚’å–å¾—ã§ãã¾ã™ã€‚</p>
</section>
<section id="1.2.-Pandas-ã¨ã®é€£æº-[Original-GWpy]">
<h3>1.2. Pandas ã¨ã®é€£æº [Original GWpy]<a class="headerlink" href="#1.2.-Pandas-ã¨ã®é€£æº-[Original-GWpy]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>Pandas</strong>: Pandas ã¯ãƒ‡ãƒ¼ã‚¿åˆ†æãƒ»æ“ä½œã®ãŸã‚ã®å¼·åŠ›ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€DataFrame ã¨ Series ã«ã‚ˆã‚‹æŸ”è»Ÿãªãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’æä¾›ã—ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://pandas.pydata.org/">Pandas Documentation</a></p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">to_pandas()</span></code> ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†ã¨ã€<code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code> ã‚’ <code class="docutils literal notranslate"><span class="pre">pandas.Series</span></code> ã«å¤‰æ›ã§ãã¾ã™ã€‚ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¯ <code class="docutils literal notranslate"><span class="pre">datetime</span></code> (UTC), <code class="docutils literal notranslate"><span class="pre">gps</span></code>, <code class="docutils literal notranslate"><span class="pre">seconds</span></code> (Unix timestamp) ã‹ã‚‰é¸æŠå¯èƒ½ã§ã™ã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="c1"># Pandas Series ã¸ã®å¤‰æ› (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ datetime index)</span>
    <span class="n">s_pd</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_pandas</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s2">&quot;datetime&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">--- Converted to Pandas Series ---&quot;</span><span class="p">)</span>
    <span class="n">display</span><span class="p">(</span><span class="n">s_pd</span><span class="p">)</span>
    <span class="n">s_pd</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Pandas Series&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="c1"># Pandas Series ã‹ã‚‰ TimeSeries ã¸ã®å¾©å…ƒ</span>
    <span class="n">ts_restored</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_pandas</span><span class="p">(</span><span class="n">s_pd</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;V&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">--- Restored TimeSeries from Pandas ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">ts_restored</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">s_pd</span><span class="p">,</span> <span class="n">ts_restored</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Pandas is not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-cyan-fg">Cell</span><span class="ansi-cyan-fg"> </span><span class="ansi-green-fg">In[4]</span><span class="ansi-green-fg">, line 3</span>
<span class="ansi-green-fg">      1</span> <span class="ansi-bold" style="color: rgb(0,135,0)">try</span>:
<span class="ansi-green-fg">      2</span>     <span style="color: rgb(95,135,135)"># Pandas Series ã¸ã®å¤‰æ› (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ datetime index)</span>
<span class="ansi-green-fg">----&gt; </span><span class="ansi-green-fg">3</span>     s_pd = <span class="ansi-yellow-bg">ts</span>.to_pandas(index=<span class="ansi-yellow-fg">&#34;</span><span class="ansi-yellow-fg">datetime</span><span class="ansi-yellow-fg">&#34;</span>)
<span class="ansi-green-fg">      4</span>     <span style="color: rgb(0,135,0)">print</span>(<span class="ansi-yellow-fg">&#34;</span><span class="ansi-bold" style="color: rgb(175,95,0)">\n</span><span class="ansi-yellow-fg">--- Converted to Pandas Series ---</span><span class="ansi-yellow-fg">&#34;</span>)
<span class="ansi-green-fg">      5</span>     display(s_pd)

<span class="ansi-red-fg">NameError</span>: name &#39;ts&#39; is not defined
</pre></div></div>
</div>
</section>
<section id="1.3.-Polars-[GWExPy-New]">
<h3>1.3. Polars [GWExPy New]<a class="headerlink" href="#1.3.-Polars-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>Polars</strong>: Polars ã¯ Rust ã§å®Ÿè£…ã•ã‚ŒãŸé«˜é€Ÿãª DataFrame ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€å¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿ã®é«˜é€Ÿå‡¦ç†ã«å„ªã‚Œã¦ã„ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://pola.rs/">Polars Documentation</a></p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">to_polars()</span></code> ã§ Polars DataFrame/Series ã«å¤‰æ›ã§ãã¾ã™ã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">polars</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pl</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">pl</span>
    <span class="c1"># TimeSeries -&gt; Polars DataFrame</span>
    <span class="n">df_pl</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_polars</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--- Polars DataFrame ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">df_pl</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

    <span class="c1"># Plot using Polars/Matplotlib</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
    <span class="n">data_col</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">df_pl</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="n">c</span> <span class="o">!=</span> <span class="s2">&quot;time&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_pl</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">],</span> <span class="n">df_pl</span><span class="p">[</span><span class="n">data_col</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Polars Data Plot&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="c1"># Recover to TimeSeries</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.timeseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">TimeSeries</span>

    <span class="n">ts_recovered</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_polars</span><span class="p">(</span><span class="n">df_pl</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recovered from Polars:&quot;</span><span class="p">,</span> <span class="n">ts_recovered</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">df_pl</span><span class="p">,</span> <span class="n">ts_recovered</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Polars not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Polars not installed.
</pre></div></div>
</div>
</section>
<section id="1.4.-Xarray-ã¨ã®é€£æº-[Original-GWpy]">
<h3>1.4. Xarray ã¨ã®é€£æº [Original GWpy]<a class="headerlink" href="#1.4.-Xarray-ã¨ã®é€£æº-[Original-GWpy]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>xarray</strong>: xarray ã¯å¤šæ¬¡å…ƒãƒ©ãƒ™ãƒ«ä»˜ãé…åˆ—ã®ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€NetCDF ãƒ‡ãƒ¼ã‚¿ã®æ“ä½œã‚„æ°—è±¡ãƒ»åœ°çƒç§‘å­¦ãƒ‡ãƒ¼ã‚¿ã®è§£æã«åºƒãä½¿ç”¨ã•ã‚Œã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://docs.xarray.dev/">xarray Documentation</a></p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">xarray</span></code> ã¯å¤šæ¬¡å…ƒã®ãƒ©ãƒ™ãƒ«ä»˜ãé…åˆ—ã‚’æ‰±ã†å¼·åŠ›ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚<code class="docutils literal notranslate"><span class="pre">to_xarray()</span></code> ã§ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’ä¿æŒã—ãŸã¾ã¾å¤‰æ›ã§ãã¾ã™ã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="c1"># Xarray DataArray ã¸ã®å¤‰æ›</span>
    <span class="n">da</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_xarray</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">--- Converted to Xarray DataArray ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">da</span><span class="p">)</span>
    <span class="c1"># ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ (attrs) ãŒä¿æŒã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Attributes:&quot;</span><span class="p">,</span> <span class="n">da</span><span class="o">.</span><span class="n">attrs</span><span class="p">)</span>

    <span class="n">da</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Xarray DataArray&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="c1"># å¾©å…ƒ</span>
    <span class="n">ts_x</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_xarray</span><span class="p">(</span><span class="n">da</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">--- Restored TimeSeries from Xarray ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">ts_x</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">da</span><span class="p">,</span> <span class="n">ts_x</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Xarray is not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-cyan-fg">Cell</span><span class="ansi-cyan-fg"> </span><span class="ansi-green-fg">In[6]</span><span class="ansi-green-fg">, line 3</span>
<span class="ansi-green-fg">      1</span> <span class="ansi-bold" style="color: rgb(0,135,0)">try</span>:
<span class="ansi-green-fg">      2</span>     <span style="color: rgb(95,135,135)"># Xarray DataArray ã¸ã®å¤‰æ›</span>
<span class="ansi-green-fg">----&gt; </span><span class="ansi-green-fg">3</span>     da = <span class="ansi-yellow-bg">ts</span>.to_xarray()
<span class="ansi-green-fg">      4</span>     <span style="color: rgb(0,135,0)">print</span>(<span class="ansi-yellow-fg">&#34;</span><span class="ansi-bold" style="color: rgb(175,95,0)">\n</span><span class="ansi-yellow-fg">--- Converted to Xarray DataArray ---</span><span class="ansi-yellow-fg">&#34;</span>)
<span class="ansi-green-fg">      5</span>     <span style="color: rgb(0,135,0)">print</span>(da)

<span class="ansi-red-fg">NameError</span>: name &#39;ts&#39; is not defined
</pre></div></div>
</div>
</section>
<section id="1.5.-Dask-ã¨ã®é€£æº-[GWExPy-New]">
<h3>1.5. Dask ã¨ã®é€£æº [GWExPy New]<a class="headerlink" href="#1.5.-Dask-ã¨ã®é€£æº-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>Dask</strong>: Dask ã¯ä¸¦åˆ—è¨ˆç®—ã®ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€NumPy/Pandas ã‚’è¶…ãˆã‚‹å¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿ã®å‡¦ç†ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://www.dask.org/">Dask Documentation</a></p>
</div></blockquote>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">dask.array</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">da</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">da</span>
    <span class="c1"># Dask Array ã¸ã®å¤‰æ›</span>
    <span class="n">dask_arr</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_dask</span><span class="p">(</span><span class="n">chunks</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">--- Converted to Dask Array ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">dask_arr</span><span class="p">)</span>

    <span class="c1"># æˆ»ã™ (compute=True ã§å³åº§ã«ãƒ­ãƒ¼ãƒ‰)</span>
    <span class="n">ts_from_dask</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_dask</span><span class="p">(</span><span class="n">dask_arr</span><span class="p">,</span> <span class="n">t0</span><span class="o">=</span><span class="n">ts</span><span class="o">.</span><span class="n">t0</span><span class="p">,</span> <span class="n">dt</span><span class="o">=</span><span class="n">ts</span><span class="o">.</span><span class="n">dt</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="n">ts</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recovered from Dask:&quot;</span><span class="p">,</span> <span class="n">ts_from_dask</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">dask_arr</span><span class="p">,</span> <span class="n">ts_from_dask</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Dask not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Dask not installed.
</pre></div></div>
</div>
</section>
<section id="1.6.-JSON-/-Python-Dict-(to_json)-[GWExPy-New]">
<h3>1.6. JSON / Python Dict (to_json) [GWExPy New]<a class="headerlink" href="#1.6.-JSON-/-Python-Dict-(to_json)-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>JSON</strong>: JSON (JavaScript Object Notation) ã¯è»½é‡ãªãƒ‡ãƒ¼ã‚¿äº¤æ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ã€Python æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://docs.python.org/3/library/json.html">JSON Documentation</a></p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">to_json()</span></code> ã‚„ <code class="docutils literal notranslate"><span class="pre">to_dict()</span></code> ã§ JSON äº’æ›ã®è¾æ›¸å½¢å¼ã‚’å‡ºåŠ›ã§ãã¾ã™ã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">json</span>

<span class="c1"># TimeSeries -&gt; JSON string</span>
<span class="n">ts_json</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_json</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--- JSON Representation (Partial) ---&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ts_json</span><span class="p">[:</span><span class="mi">500</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;...&quot;</span><span class="p">)</span>

<span class="c1"># Plot data by loading back from JSON</span>
<span class="n">ts_dict_temp</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">ts_json</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ts_dict_temp</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Plot from JSON Data&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Recover from JSON</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.timeseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">TimeSeries</span>

<span class="n">ts_recovered</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">ts_json</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recovered from JSON:&quot;</span><span class="p">,</span> <span class="n">ts_recovered</span><span class="p">)</span>

<span class="k">del</span> <span class="n">ts_json</span><span class="p">,</span> <span class="n">ts_dict_temp</span><span class="p">,</span> <span class="n">ts_recovered</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-cyan-fg">Cell</span><span class="ansi-cyan-fg"> </span><span class="ansi-green-fg">In[8]</span><span class="ansi-green-fg">, line 4</span>
<span class="ansi-green-fg">      1</span> <span class="ansi-bold" style="color: rgb(0,135,0)">import</span><span style="color: rgb(188,188,188)"> </span><span class="ansi-blue-intense-fg ansi-bold">json</span>
<span class="ansi-green-fg">      3</span> <span style="color: rgb(95,135,135)"># TimeSeries -&gt; JSON string</span>
<span class="ansi-green-fg">----&gt; </span><span class="ansi-green-fg">4</span> ts_json = <span class="ansi-yellow-bg">ts</span>.to_json()
<span class="ansi-green-fg">      5</span> <span style="color: rgb(0,135,0)">print</span>(<span class="ansi-yellow-fg">&#34;</span><span class="ansi-yellow-fg">--- JSON Representation (Partial) ---</span><span class="ansi-yellow-fg">&#34;</span>)
<span class="ansi-green-fg">      6</span> <span style="color: rgb(0,135,0)">print</span>(ts_json[:<span class="ansi-green-fg">500</span>] + <span class="ansi-yellow-fg">&#34;</span><span class="ansi-yellow-fg">...</span><span class="ansi-yellow-fg">&#34;</span>)

<span class="ansi-red-fg">NameError</span>: name &#39;ts&#39; is not defined
</pre></div></div>
</div>
</section>
</section>
<section id="2.-ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ»ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å±¤">
<h2>2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ»ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å±¤<a class="headerlink" href="#2.-ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ»ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å±¤" title="Link to this heading">ïƒ</a></h2>
<section id="2.1.-HDF5-[Original-GWpy]">
<h3>2.1. HDF5 [Original GWpy]<a class="headerlink" href="#2.1.-HDF5-[Original-GWpy]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>HDF5</strong>: HDF5 ã¯å¤§è¦æ¨¡ãªç§‘å­¦ãƒ‡ãƒ¼ã‚¿ã‚’åŠ¹ç‡çš„ã«ä¿å­˜ãƒ»ç®¡ç†ã™ã‚‹ãŸã‚ã®éšå±¤å‹ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ã™ã€‚h5py ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ Python ã‹ã‚‰åˆ©ç”¨ã§ãã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://www.h5py.org/">HDF5 Documentation</a></p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">to_hdf5_dataset()</span></code> ã§ HDF5 ã¸ã®ä¿å­˜ã‚’ã‚µãƒãƒ¼ãƒˆã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">tempfile</span>

    <span class="kn">import</span><span class="w"> </span><span class="nn">h5py</span>

    <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">NamedTemporaryFile</span><span class="p">(</span><span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;.h5&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">tmp</span><span class="p">:</span>
        <span class="c1"># TimeSeries -&gt; HDF5</span>
        <span class="k">with</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="n">tmp</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">ts</span><span class="o">.</span><span class="n">to_hdf5_dataset</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s2">&quot;dataset_01&quot;</span><span class="p">)</span>

        <span class="c1"># Read back and display</span>
        <span class="k">with</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="n">tmp</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">ds</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s2">&quot;dataset_01&quot;</span><span class="p">]</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--- HDF5 Dataset Info ---&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Shape: </span><span class="si">{</span><span class="n">ds</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2">, Dtype: </span><span class="si">{</span><span class="n">ds</span><span class="o">.</span><span class="n">dtype</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Attributes:&quot;</span><span class="p">,</span> <span class="nb">dict</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">attrs</span><span class="p">))</span>

            <span class="c1"># Recover</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.timeseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">TimeSeries</span>

            <span class="n">ts_recovered</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_hdf5_dataset</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s2">&quot;dataset_01&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recovered from HDF5:&quot;</span><span class="p">,</span> <span class="n">ts_recovered</span><span class="p">)</span>

            <span class="n">ts_recovered</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Recovered from HDF5&quot;</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

            <span class="k">del</span> <span class="n">ds</span><span class="p">,</span> <span class="n">ts_recovered</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;h5py not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-cyan-fg">Cell</span><span class="ansi-cyan-fg"> </span><span class="ansi-green-fg">In[9]</span><span class="ansi-green-fg">, line 9</span>
<span class="ansi-green-fg">      6</span> <span class="ansi-bold" style="color: rgb(0,135,0)">with</span> tempfile.NamedTemporaryFile(suffix=<span class="ansi-yellow-fg">&#34;</span><span class="ansi-yellow-fg">.h5</span><span class="ansi-yellow-fg">&#34;</span>) <span class="ansi-bold" style="color: rgb(0,135,0)">as</span> tmp:
<span class="ansi-green-fg">      7</span>     <span style="color: rgb(95,135,135)"># TimeSeries -&gt; HDF5</span>
<span class="ansi-green-fg">      8</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">with</span> h5py.File(tmp.name, <span class="ansi-yellow-fg">&#34;</span><span class="ansi-yellow-fg">w</span><span class="ansi-yellow-fg">&#34;</span>) <span class="ansi-bold" style="color: rgb(0,135,0)">as</span> f:
<span class="ansi-green-fg">----&gt; </span><span class="ansi-green-fg">9</span>         <span class="ansi-yellow-bg">ts</span>.to_hdf5_dataset(f, <span class="ansi-yellow-fg">&#34;</span><span class="ansi-yellow-fg">dataset_01</span><span class="ansi-yellow-fg">&#34;</span>)
<span class="ansi-green-fg">     11</span>     <span style="color: rgb(95,135,135)"># Read back and display</span>
<span class="ansi-green-fg">     12</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">with</span> h5py.File(tmp.name, <span class="ansi-yellow-fg">&#34;</span><span class="ansi-yellow-fg">r</span><span class="ansi-yellow-fg">&#34;</span>) <span class="ansi-bold" style="color: rgb(0,135,0)">as</span> f:

<span class="ansi-red-fg">NameError</span>: name &#39;ts&#39; is not defined
</pre></div></div>
</div>
</section>
<section id="2.2.-SQLite-[GWExPy-New]">
<h3>2.2. SQLite [GWExPy New]<a class="headerlink" href="#2.2.-SQLite-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>SQLite</strong>: SQLite ã¯è»½é‡ãªçµ„ã¿è¾¼ã¿å‹ SQL ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¨ãƒ³ã‚¸ãƒ³ã§ã€Python æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«å«ã¾ã‚Œã¦ã„ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://docs.python.org/3/library/sqlite3.html">SQLite Documentation</a></p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">to_sqlite()</span></code> ã§ DB æ°¸ç¶šåŒ–ã‚’ã‚µãƒãƒ¼ãƒˆã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">sqlite3</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;:memory:&quot;</span><span class="p">)</span>

<span class="c1"># TimeSeries -&gt; SQLite</span>
<span class="n">series_id</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_sqlite</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span> <span class="n">series_id</span><span class="o">=</span><span class="s2">&quot;test_series&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Saved to SQLite with ID: </span><span class="si">{</span><span class="n">series_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Verify data in SQL</span>
<span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
<span class="n">row</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM series WHERE series_id=?&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">series_id</span><span class="p">,))</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Metadata from SQL:&quot;</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span>

<span class="c1"># Recover</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.timeseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">TimeSeries</span>

<span class="n">ts_recovered</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_sqlite</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span> <span class="n">series_id</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recovered from SQLite:&quot;</span><span class="p">,</span> <span class="n">ts_recovered</span><span class="p">)</span>

<span class="n">ts_recovered</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Recovered from SQLite&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="k">del</span> <span class="n">series_id</span><span class="p">,</span> <span class="n">conn</span><span class="p">,</span> <span class="n">cursor</span><span class="p">,</span> <span class="n">ts_recovered</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-cyan-fg">Cell</span><span class="ansi-cyan-fg"> </span><span class="ansi-green-fg">In[10]</span><span class="ansi-green-fg">, line 6</span>
<span class="ansi-green-fg">      3</span> conn = sqlite3.connect(<span class="ansi-yellow-fg">&#34;</span><span class="ansi-yellow-fg">:memory:</span><span class="ansi-yellow-fg">&#34;</span>)
<span class="ansi-green-fg">      5</span> <span style="color: rgb(95,135,135)"># TimeSeries -&gt; SQLite</span>
<span class="ansi-green-fg">----&gt; </span><span class="ansi-green-fg">6</span> series_id = <span class="ansi-yellow-bg">ts</span>.to_sqlite(conn, series_id=<span class="ansi-yellow-fg">&#34;</span><span class="ansi-yellow-fg">test_series</span><span class="ansi-yellow-fg">&#34;</span>)
<span class="ansi-green-fg">      7</span> <span style="color: rgb(0,135,0)">print</span>(<span class="ansi-yellow-fg">f</span><span class="ansi-yellow-fg">&#34;</span><span class="ansi-yellow-fg">Saved to SQLite with ID: </span><span class="ansi-bold" style="color: rgb(175,95,135)">{</span>series_id<span class="ansi-bold" style="color: rgb(175,95,135)">}</span><span class="ansi-yellow-fg">&#34;</span>)
<span class="ansi-green-fg">      9</span> <span style="color: rgb(95,135,135)"># Verify data in SQL</span>

<span class="ansi-red-fg">NameError</span>: name &#39;ts&#39; is not defined
</pre></div></div>
</div>
</section>
<section id="2.3.-Zarr-[GWExPy-New]">
<h3>2.3. Zarr [GWExPy New]<a class="headerlink" href="#2.3.-Zarr-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>Zarr</strong>: Zarr ã¯ãƒãƒ£ãƒ³ã‚¯åŒ–ãƒ»åœ§ç¸®ã•ã‚ŒãŸå¤šæ¬¡å…ƒé…åˆ—ã®ãŸã‚ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ã€ã‚¯ãƒ©ã‚¦ãƒ‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã¨ã®é€£æºã«å„ªã‚Œã¦ã„ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://zarr.dev/">Zarr Documentation</a></p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">to_zarr()</span></code> ã§ã‚¯ãƒ©ã‚¦ãƒ‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å‘ãå½¢å¼ã«å¯¾å¿œã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">tempfile</span>

    <span class="kn">import</span><span class="w"> </span><span class="nn">zarr</span>

    <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">TemporaryDirectory</span><span class="p">()</span> <span class="k">as</span> <span class="n">tmpdir</span><span class="p">:</span>
        <span class="n">store_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tmpdir</span><span class="p">,</span> <span class="s2">&quot;test.zarr&quot;</span><span class="p">)</span>
        <span class="c1"># TimeSeries -&gt; Zarr</span>
        <span class="n">ts</span><span class="o">.</span><span class="n">to_zarr</span><span class="p">(</span><span class="n">store_path</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;timeseries&quot;</span><span class="p">)</span>

        <span class="c1"># Read back</span>
        <span class="n">z</span> <span class="o">=</span> <span class="n">zarr</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">store_path</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;r&quot;</span><span class="p">)</span>
        <span class="n">ds</span> <span class="o">=</span> <span class="n">z</span><span class="p">[</span><span class="s2">&quot;timeseries&quot;</span><span class="p">]</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--- Zarr Array Info ---&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">info</span><span class="p">)</span>

        <span class="c1"># Recover</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.timeseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">TimeSeries</span>

        <span class="n">ts_recovered</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_zarr</span><span class="p">(</span><span class="n">store_path</span><span class="p">,</span> <span class="s2">&quot;timeseries&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recovered from Zarr:&quot;</span><span class="p">,</span> <span class="n">ts_recovered</span><span class="p">)</span>

        <span class="n">ts_recovered</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Recovered from Zarr&quot;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

        <span class="k">del</span> <span class="n">z</span><span class="p">,</span> <span class="n">ds</span><span class="p">,</span> <span class="n">ts_recovered</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;zarr not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
zarr not installed.
</pre></div></div>
</div>
</section>
<section id="2.4.-netCDF4-[GWExPy-New]">
<h3>2.4. netCDF4 [GWExPy New]<a class="headerlink" href="#2.4.-netCDF4-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>netCDF4</strong>: netCDF4 ã¯æ°—è±¡ãƒ»æµ·æ´‹ãƒ»åœ°çƒç§‘å­¦ãƒ‡ãƒ¼ã‚¿ã®æ¨™æº–ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ã€è‡ªå·±è¨˜è¿°çš„ãªãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’æŒã¡ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://unidata.github.io/netcdf4-python/">netCDF4 Documentation</a></p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">to_netcdf4()</span></code> ã§æ°—è±¡ãƒ»æµ·æ´‹ãƒ‡ãƒ¼ã‚¿ã®æ¨™æº–ã«å¯¾å¿œã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">tempfile</span>

    <span class="kn">import</span><span class="w"> </span><span class="nn">netCDF4</span>

    <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">NamedTemporaryFile</span><span class="p">(</span><span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;.nc&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">tmp</span><span class="p">:</span>
        <span class="c1"># TimeSeries -&gt; netCDF4</span>
        <span class="k">with</span> <span class="n">netCDF4</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span><span class="n">tmp</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">ds</span><span class="p">:</span>
            <span class="n">ts</span><span class="o">.</span><span class="n">to_netcdf4</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s2">&quot;my_signal&quot;</span><span class="p">)</span>

        <span class="c1"># Read back</span>
        <span class="k">with</span> <span class="n">netCDF4</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span><span class="n">tmp</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">ds</span><span class="p">:</span>
            <span class="n">v</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">variables</span><span class="p">[</span><span class="s2">&quot;my_signal&quot;</span><span class="p">]</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--- netCDF4 Variable Info ---&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

            <span class="c1"># Recover</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.timeseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">TimeSeries</span>

            <span class="n">ts_recovered</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_netcdf4</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s2">&quot;my_signal&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recovered from netCDF4:&quot;</span><span class="p">,</span> <span class="n">ts_recovered</span><span class="p">)</span>

            <span class="n">ts_recovered</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Recovered from netCDF4&quot;</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

            <span class="k">del</span> <span class="n">v</span><span class="p">,</span> <span class="n">ts_recovered</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;netCDF4 not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
netCDF4 not installed.
</pre></div></div>
</div>
</section>
</section>
<section id="3.-æƒ…å ±ç§‘å­¦ãƒ»æ©Ÿæ¢°å­¦ç¿’ãƒ»åŠ é€Ÿè¨ˆç®—">
<h2>3. æƒ…å ±ç§‘å­¦ãƒ»æ©Ÿæ¢°å­¦ç¿’ãƒ»åŠ é€Ÿè¨ˆç®—<a class="headerlink" href="#3.-æƒ…å ±ç§‘å­¦ãƒ»æ©Ÿæ¢°å­¦ç¿’ãƒ»åŠ é€Ÿè¨ˆç®—" title="Link to this heading">ïƒ</a></h2>
<section id="3.1.-PyTorch-ã¨ã®é€£æº-[GWExPy-New]">
<h3>3.1. PyTorch ã¨ã®é€£æº [GWExPy New]<a class="headerlink" href="#3.1.-PyTorch-ã¨ã®é€£æº-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>PyTorch</strong>: PyTorch ã¯æ·±å±¤å­¦ç¿’ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã€å‹•çš„è¨ˆç®—ã‚°ãƒ©ãƒ•ã¨ GPU åŠ é€Ÿã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://pytorch.org/">PyTorch Documentation</a></p>
</div></blockquote>
<p>ãƒ‡ã‚£ãƒ¼ãƒ—ãƒ©ãƒ¼ãƒ‹ãƒ³ã‚°ã®å‰å‡¦ç†ã¨ã—ã¦ã€<code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code> ã‚’ç›´æ¥ <code class="docutils literal notranslate"><span class="pre">torch.Tensor</span></code> ã«å¤‰æ›ã§ãã¾ã™ã€‚GPUè»¢é€ã‚‚å¯èƒ½ã§ã™ã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;TF_CPP_MIN_LOG_LEVEL&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">torch</span>

    <span class="c1"># PyTorch Tensor ã¸ã®å¤‰æ›</span>
    <span class="n">tensor</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_torch</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="n">torch</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">--- Converted to PyTorch Tensor ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tensor shape: </span><span class="si">{</span><span class="n">tensor</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2">, dtype: </span><span class="si">{</span><span class="n">tensor</span><span class="o">.</span><span class="n">dtype</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Tensor ã‹ã‚‰ã®å¾©å…ƒ (t0, dt ã¯åˆ¥é€”æŒ‡å®šãŒå¿…è¦)</span>
    <span class="n">ts_torch</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_torch</span><span class="p">(</span><span class="n">tensor</span><span class="p">,</span> <span class="n">t0</span><span class="o">=</span><span class="n">ts</span><span class="o">.</span><span class="n">t0</span><span class="p">,</span> <span class="n">dt</span><span class="o">=</span><span class="n">ts</span><span class="o">.</span><span class="n">dt</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;V&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">--- Restored from Torch ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">ts_torch</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">tensor</span><span class="p">,</span> <span class="n">ts_torch</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;PyTorch is not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
PyTorch is not installed.
</pre></div></div>
</div>
</section>
<section id="3.2.-CuPy-(CUDA-åŠ é€Ÿ)-[GWExPy-New]">
<h3>3.2. CuPy (CUDA åŠ é€Ÿ) [GWExPy New]<a class="headerlink" href="#3.2.-CuPy-(CUDA-åŠ é€Ÿ)-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>CuPy</strong>: CuPy ã¯ NumPy äº’æ›ã® GPU é…åˆ—ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€NVIDIA CUDA ã‚’ä½¿ç”¨ã—ãŸé«˜é€Ÿè¨ˆç®—ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://cupy.dev/">CuPy Documentation</a></p>
</div></blockquote>
<p>GPU ä¸Šã§ã®è¨ˆç®—ã‚’å¯èƒ½ã«ã™ã‚‹ CuPy é…åˆ—ã¸å¤‰æ›ã§ãã¾ã™ã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.interop</span><span class="w"> </span><span class="kn">import</span> <span class="n">is_cupy_available</span>

<span class="k">if</span> <span class="n">is_cupy_available</span><span class="p">():</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">cupy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">cp</span>

    <span class="c1"># TimeSeries -&gt; CuPy</span>
    <span class="n">y_gpu</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_cupy</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--- CuPy Array (on GPU) ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">y_gpu</span><span class="p">)</span>

    <span class="c1"># Simple processing on GPU</span>
    <span class="n">y_gpu_filt</span> <span class="o">=</span> <span class="n">y_gpu</span> <span class="o">*</span> <span class="mf">2.0</span>

    <span class="c1"># Plot (must move to CPU for plotting)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cp</span><span class="o">.</span><span class="n">asnumpy</span><span class="p">(</span><span class="n">y_gpu_filt</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;CuPy Data (Moved to CPU for plot)&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="c1"># Recover</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.timeseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">TimeSeries</span>

    <span class="n">ts_recovered</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_cupy</span><span class="p">(</span><span class="n">y_gpu_filt</span><span class="p">,</span> <span class="n">t0</span><span class="o">=</span><span class="n">ts</span><span class="o">.</span><span class="n">t0</span><span class="p">,</span> <span class="n">dt</span><span class="o">=</span><span class="n">ts</span><span class="o">.</span><span class="n">dt</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recovered from CuPy:&quot;</span><span class="p">,</span> <span class="n">ts_recovered</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">y_gpu</span><span class="p">,</span> <span class="n">y_gpu_filt</span><span class="p">,</span> <span class="n">ts_recovered</span>

<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CuPy or CUDA driver not available.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
CuPy or CUDA driver not available.
</pre></div></div>
</div>
</section>
<section id="3.3.-TensorFlow-ã¨ã®é€£æº-[GWExPy-New]">
<h3>3.3. TensorFlow ã¨ã®é€£æº [GWExPy New]<a class="headerlink" href="#3.3.-TensorFlow-ã¨ã®é€£æº-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>TensorFlow</strong>: TensorFlow ã¯ Google ãŒé–‹ç™ºã—ãŸæ©Ÿæ¢°å­¦ç¿’ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã€å¤§è¦æ¨¡ãªæœ¬ç•ªç’°å¢ƒã§ã®åˆ©ç”¨ã«å„ªã‚Œã¦ã„ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://www.tensorflow.org/">TensorFlow Documentation</a></p>
</div></blockquote>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">warnings</span>

    <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;TF_CPP_MIN_LOG_LEVEL&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">)</span>
    <span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span>
        <span class="s2">&quot;ignore&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="ne">UserWarning</span><span class="p">,</span> <span class="n">module</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;google\.protobuf\..*&quot;</span>
    <span class="p">)</span>
    <span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span>
        <span class="s2">&quot;ignore&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="ne">UserWarning</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;Protobuf gencode version.*&quot;</span>
    <span class="p">)</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">tensorflow</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">tf</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">tf</span>
    <span class="c1"># TensorFlow Tensor ã¸ã®å¤‰æ›</span>
    <span class="n">tf_tensor</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_tensorflow</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">--- Converted to TensorFlow Tensor ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tensor shape: </span><span class="si">{</span><span class="n">tf_tensor</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tensor dtype: </span><span class="si">{</span><span class="n">tf_tensor</span><span class="o">.</span><span class="n">dtype</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># æˆ»ã™</span>
    <span class="n">ts_from_tensorflow</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_tensorflow</span><span class="p">(</span>
        <span class="n">tf_tensor</span><span class="p">,</span> <span class="n">t0</span><span class="o">=</span><span class="n">ts</span><span class="o">.</span><span class="n">t0</span><span class="p">,</span> <span class="n">dt</span><span class="o">=</span><span class="n">ts</span><span class="o">.</span><span class="n">dt</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="n">ts</span><span class="o">.</span><span class="n">unit</span>
    <span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recovered from TF:&quot;</span><span class="p">,</span> <span class="n">ts_from_tensorflow</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">tf_tensor</span><span class="p">,</span> <span class="n">ts_from_tensorflow</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;TensorFlow not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
TensorFlow not installed.
</pre></div></div>
</div>
</section>
<section id="3.4.-JAX-ã¨ã®é€£æº-[GWExPy-New]">
<h3>3.4. JAX ã¨ã®é€£æº [GWExPy New]<a class="headerlink" href="#3.4.-JAX-ã¨ã®é€£æº-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>JAX</strong>: JAX ã¯ Google ãŒé–‹ç™ºã—ãŸé«˜æ€§èƒ½æ•°å€¤è¨ˆç®—ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€è‡ªå‹•å¾®åˆ†ã¨ XLA ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã«ã‚ˆã‚‹é«˜é€ŸåŒ–ãŒç‰¹å¾´ã§ã™ã€‚ ğŸ“š <a class="reference external" href="https://jax.readthedocs.io/">JAX Documentation</a></p>
</div></blockquote>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

    <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;XLA_PYTHON_CLIENT_PREALLOCATE&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;false&quot;</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">jax</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">jax</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">jax.numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">jnp</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">jnp</span>
    <span class="c1"># JAX Array ã¸ã®å¤‰æ›</span>
    <span class="n">jax_arr</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_jax</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">--- Converted to JAX Array ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Array shape: </span><span class="si">{</span><span class="n">jax_arr</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># æˆ»ã™</span>
    <span class="n">ts_from_jax</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_jax</span><span class="p">(</span><span class="n">jax_arr</span><span class="p">,</span> <span class="n">t0</span><span class="o">=</span><span class="n">ts</span><span class="o">.</span><span class="n">t0</span><span class="p">,</span> <span class="n">dt</span><span class="o">=</span><span class="n">ts</span><span class="o">.</span><span class="n">dt</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="n">ts</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recovered from JAX:&quot;</span><span class="p">,</span> <span class="n">ts_from_jax</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">jax_arr</span><span class="p">,</span> <span class="n">ts_from_jax</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;JAX not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
JAX not installed.
</pre></div></div>
</div>
</section>
</section>
<section id="4.-å¤©æ–‡å­¦ãƒ»é‡åŠ›æ³¢ç‰©ç†å­¦">
<h2>4. å¤©æ–‡å­¦ãƒ»é‡åŠ›æ³¢ç‰©ç†å­¦<a class="headerlink" href="#4.-å¤©æ–‡å­¦ãƒ»é‡åŠ›æ³¢ç‰©ç†å­¦" title="Link to this heading">ïƒ</a></h2>
<section id="4.1.-PyCBC-/-LAL-[Original-GWpy]">
<h3>4.1. PyCBC / LAL [Original GWpy]<a class="headerlink" href="#4.1.-PyCBC-/-LAL-[Original-GWpy]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>LAL</strong>: LAL (LIGO Algorithm Library) ã¯ LIGO/Virgo ã®å…¬å¼è§£æãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€é‡åŠ›æ³¢è§£æã®åŸºç›¤ã‚’æä¾›ã—ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://lscsoft.docs.ligo.org/lalsuite/">LAL Documentation</a></p>
</div></blockquote>
<blockquote>
<div><p><strong>PyCBC</strong>: PyCBC ã¯é‡åŠ›æ³¢ãƒ‡ãƒ¼ã‚¿è§£æã®ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€ä¿¡å·æ¢ç´¢ã‚„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ¨å®šã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://pycbc.org/">PyCBC Documentation</a></p>
</div></blockquote>
<p>é‡åŠ›æ³¢è§£æã®æ¨™æº–ãƒ„ãƒ¼ãƒ«ã¨ã®äº’æ›æ€§ã‚’å‚™ãˆã¦ã„ã¾ã™ã€‚</p>
</section>
<section id="4.2.-Astropy-ã¨ã®é€£æº-[Original-GWpy]">
<h3>4.2. Astropy ã¨ã®é€£æº [Original GWpy]<a class="headerlink" href="#4.2.-Astropy-ã¨ã®é€£æº-[Original-GWpy]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>Astropy</strong>: Astropy ã¯å¤©æ–‡å­¦ã®ãŸã‚ã® Python ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€åº§æ¨™å¤‰æ›ã€æ™‚é–“ç³»å¤‰æ›ã€å˜ä½ç³»ãªã©ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://www.astropy.org/">Astropy Documentation</a></p>
</div></blockquote>
<p>å¤©æ–‡å­¦åˆ†é‡ã§æ¨™æº–çš„ãª <code class="docutils literal notranslate"><span class="pre">astropy.timeseries.TimeSeries</span></code> ã¨ã®ç›¸äº’å¤‰æ›ã‚‚ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="c1"># Astropy TimeSeries ã¸ã®å¤‰æ›</span>
    <span class="n">ap_ts</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_astropy_timeseries</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">--- Converted to Astropy TimeSeries ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">ap_ts</span><span class="p">[:</span><span class="mi">5</span><span class="p">])</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ap_ts</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">jd</span><span class="p">,</span> <span class="n">ap_ts</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Astropy TimeSeries&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="c1"># å¾©å…ƒ</span>
    <span class="n">ts_astro</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_astropy_timeseries</span><span class="p">(</span><span class="n">ap_ts</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">--- Restored from Astropy ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">ts_astro</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">ap_ts</span><span class="p">,</span> <span class="n">ts_astro</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Astropy is not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-cyan-fg">Cell</span><span class="ansi-cyan-fg"> </span><span class="ansi-green-fg">In[17]</span><span class="ansi-green-fg">, line 3</span>
<span class="ansi-green-fg">      1</span> <span class="ansi-bold" style="color: rgb(0,135,0)">try</span>:
<span class="ansi-green-fg">      2</span>     <span style="color: rgb(95,135,135)"># Astropy TimeSeries ã¸ã®å¤‰æ›</span>
<span class="ansi-green-fg">----&gt; </span><span class="ansi-green-fg">3</span>     ap_ts = <span class="ansi-yellow-bg">ts</span>.to_astropy_timeseries()
<span class="ansi-green-fg">      4</span>     <span style="color: rgb(0,135,0)">print</span>(<span class="ansi-yellow-fg">&#34;</span><span class="ansi-bold" style="color: rgb(175,95,0)">\n</span><span class="ansi-yellow-fg">--- Converted to Astropy TimeSeries ---</span><span class="ansi-yellow-fg">&#34;</span>)
<span class="ansi-green-fg">      5</span>     <span style="color: rgb(0,135,0)">print</span>(ap_ts[:<span class="ansi-green-fg">5</span>])

<span class="ansi-red-fg">NameError</span>: name &#39;ts&#39; is not defined
</pre></div></div>
</div>
</section>
<section id="4.3.-Specutils-ã¨ã®é€£æº-[GWExPy-New]">
<h3>4.3. Specutils ã¨ã®é€£æº [GWExPy New]<a class="headerlink" href="#4.3.-Specutils-ã¨ã®é€£æº-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>specutils</strong>: specutils ã¯å¤©æ–‡ã‚¹ãƒšã‚¯ãƒˆãƒ«ãƒ‡ãƒ¼ã‚¿ã®æ“ä½œãƒ»è§£æã®ãŸã‚ã® Astropy é–¢é€£ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã™ã€‚ ğŸ“š <a class="reference external" href="https://specutils.readthedocs.io/">specutils Documentation</a></p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">FrequencySeries</span></code> ã¯ã€Astropy ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®ã‚¹ãƒšã‚¯ãƒˆãƒ«è§£æãƒ©ã‚¤ãƒ–ãƒ©ãƒª <code class="docutils literal notranslate"><span class="pre">specutils</span></code> ã® <code class="docutils literal notranslate"><span class="pre">Spectrum1D</span></code> ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ç›¸äº’å¤‰æ›å¯èƒ½ã§ã™ã€‚ å˜ä½ (Units) ã‚„å‘¨æ³¢æ•°è»¸ãŒé©åˆ‡ã«ä¿æŒã•ã‚Œã¾ã™ã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">specutils</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">specutils</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.frequencyseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">FrequencySeries</span>

    <span class="c1"># FrequencySeries -&gt; specutils.Spectrum1D</span>
    <span class="n">fs</span> <span class="o">=</span> <span class="n">FrequencySeries</span><span class="p">(</span>
        <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span> <span class="n">frequencies</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;Jy&quot;</span>
    <span class="p">)</span>
    <span class="n">spec</span> <span class="o">=</span> <span class="n">fs</span><span class="o">.</span><span class="n">to_specutils</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;specutils Spectrum1D:&quot;</span><span class="p">,</span> <span class="n">spec</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Spectral axis unit:&quot;</span><span class="p">,</span> <span class="n">spec</span><span class="o">.</span><span class="n">spectral_axis</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>

    <span class="c1"># specutils.Spectrum1D -&gt; FrequencySeries</span>
    <span class="n">fs_rec</span> <span class="o">=</span> <span class="n">FrequencySeries</span><span class="o">.</span><span class="n">from_specutils</span><span class="p">(</span><span class="n">spec</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Restored FrequencySeries unit:&quot;</span><span class="p">,</span> <span class="n">fs_rec</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">fs</span><span class="p">,</span> <span class="n">spec</span><span class="p">,</span> <span class="n">fs_rec</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;specutils library not found. Skipping example.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
specutils library not found. Skipping example.
</pre></div></div>
</div>
</section>
<section id="4.4.-Pyspeckit-ã¨ã®é€£æº-[GWExPy-New]">
<h3>4.4. Pyspeckit ã¨ã®é€£æº [GWExPy New]<a class="headerlink" href="#4.4.-Pyspeckit-ã¨ã®é€£æº-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>PySpecKit</strong>: PySpecKit ã¯é›»æ³¢å¤©æ–‡å­¦ã®ã‚¹ãƒšã‚¯ãƒˆãƒ«è§£æãƒ„ãƒ¼ãƒ«ã‚­ãƒƒãƒˆã§ã€ã‚¹ãƒšã‚¯ãƒˆãƒ«ç·šã®ãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚°ãªã©ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://pyspeckit.readthedocs.io/">PySpecKit Documentation</a></p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">FrequencySeries</span></code> ã¯ã€æ±ç”¨çš„ãªã‚¹ãƒšã‚¯ãƒˆãƒ«è§£æãƒ„ãƒ¼ãƒ«ã‚­ãƒƒãƒˆ <code class="docutils literal notranslate"><span class="pre">pyspeckit</span></code> ã® <code class="docutils literal notranslate"><span class="pre">Spectrum</span></code> ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã‚‚é€£æºå¯èƒ½ã§ã™ã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">pyspeckit</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">pyspeckit</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.frequencyseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">FrequencySeries</span>

    <span class="c1"># FrequencySeries -&gt; pyspeckit.Spectrum</span>
    <span class="n">fs</span> <span class="o">=</span> <span class="n">FrequencySeries</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span> <span class="n">frequencies</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
    <span class="n">spec</span> <span class="o">=</span> <span class="n">fs</span><span class="o">.</span><span class="n">to_pyspeckit</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;pyspeckit Spectrum length:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">spec</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>

    <span class="c1"># pyspeckit.Spectrum -&gt; FrequencySeries</span>
    <span class="n">fs_rec</span> <span class="o">=</span> <span class="n">FrequencySeries</span><span class="o">.</span><span class="n">from_pyspeckit</span><span class="p">(</span><span class="n">spec</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Restored FrequencySeries length:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">fs_rec</span><span class="p">))</span>

    <span class="k">del</span> <span class="n">fs</span><span class="p">,</span> <span class="n">spec</span><span class="p">,</span> <span class="n">fs_rec</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;pyspeckit library not found. Skipping example.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
pyspeckit library not found. Skipping example.
</pre></div></div>
</div>
</section>
</section>
<section id="5.-ç´ ç²’å­ç‰©ç†å­¦ãƒ»é«˜ã‚¨ãƒãƒ«ã‚®ãƒ¼ç‰©ç†">
<h2>5. ç´ ç²’å­ç‰©ç†å­¦ãƒ»é«˜ã‚¨ãƒãƒ«ã‚®ãƒ¼ç‰©ç†<a class="headerlink" href="#5.-ç´ ç²’å­ç‰©ç†å­¦ãƒ»é«˜ã‚¨ãƒãƒ«ã‚®ãƒ¼ç‰©ç†" title="Link to this heading">ïƒ</a></h2>
<section id="5.1.-CERN-ROOT-ã¨ã®é€£æº-[GWExPy-New]">
<h3>5.1. CERN ROOT ã¨ã®é€£æº [GWExPy New]<a class="headerlink" href="#5.1.-CERN-ROOT-ã¨ã®é€£æº-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>ROOT</strong>: ROOT ã¯ CERN ãŒé–‹ç™ºã—ãŸé«˜ã‚¨ãƒãƒ«ã‚®ãƒ¼ç‰©ç†å­¦å‘ã‘ã®ãƒ‡ãƒ¼ã‚¿è§£æãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚ ğŸ“š <a class="reference external" href="https://root.cern/">ROOT Documentation</a></p>
</div></blockquote>
<p>é«˜ã‚¨ãƒãƒ«ã‚®ãƒ¼ç‰©ç†å­¦ã§æ¨™æº–çš„ãªãƒ„ãƒ¼ãƒ«ã§ã‚ã‚‹ <strong>ROOT</strong> ã¨ã®ç›¸äº’é‹ç”¨ãŒå¼·åŒ–ã•ã‚Œã¾ã—ãŸã€‚ <code class="docutils literal notranslate"><span class="pre">gwexpy</span></code> ã® Series ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ ROOT ã® <code class="docutils literal notranslate"><span class="pre">TGraph</span></code> ã‚„ <code class="docutils literal notranslate"><span class="pre">TH1D</span></code>, <code class="docutils literal notranslate"><span class="pre">TH2D</span></code> ã«é«˜é€Ÿã«å¤‰æ›ã—ãŸã‚Šã€ROOT ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ é€†ã«ã€ROOT ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰ <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code> ãªã©ã‚’å¾©å…ƒã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚</p>
<p><strong>Note</strong>: ã“ã®æ©Ÿèƒ½ã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ <code class="docutils literal notranslate"><span class="pre">ROOT</span></code> (PyROOT) ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">ROOT</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.timeseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">TimeSeries</span>

    <span class="c1"># ãƒ‡ãƒ¼ã‚¿ã®æº–å‚™</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">t</span><span class="p">)</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
    <span class="n">ts</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">dt</span><span class="o">=</span><span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;signal&quot;</span><span class="p">)</span>

    <span class="c1"># --- 1. TGraph ã¸ã®å¤‰æ› ---</span>
    <span class="c1"># ãƒ™ã‚¯ãƒˆãƒ«åŒ–ã•ã‚ŒãŸé«˜é€Ÿãªå¤‰æ›</span>
    <span class="n">graph</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_tgraph</span><span class="p">()</span>

    <span class="c1"># ROOT ã‚­ãƒ£ãƒ³ãƒã‚¹ã§ã®ãƒ—ãƒ­ãƒƒãƒˆ</span>
    <span class="n">c1</span> <span class="o">=</span> <span class="n">ROOT</span><span class="o">.</span><span class="n">TCanvas</span><span class="p">(</span><span class="s2">&quot;c1&quot;</span><span class="p">,</span> <span class="s2">&quot;TGraph Example&quot;</span><span class="p">,</span> <span class="mi">800</span><span class="p">,</span> <span class="mi">600</span><span class="p">)</span>
    <span class="n">graph</span><span class="o">.</span><span class="n">SetTitle</span><span class="p">(</span><span class="s2">&quot;ROOT TGraph;GPS Time [s];Amplitude&quot;</span><span class="p">)</span>
    <span class="n">graph</span><span class="o">.</span><span class="n">Draw</span><span class="p">(</span><span class="s2">&quot;AL&quot;</span><span class="p">)</span>
    <span class="n">c1</span><span class="o">.</span><span class="n">Draw</span><span class="p">()</span>
    <span class="c1"># c1.SaveAs(&quot;signal_graph.png&quot;) # ç”»åƒã¨ã—ã¦ä¿å­˜ã™ã‚‹å ´åˆ</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Created TGraph: </span><span class="si">{</span><span class="n">graph</span><span class="o">.</span><span class="n">GetName</span><span class="p">()</span><span class="si">}</span><span class="s2"> with </span><span class="si">{</span><span class="n">graph</span><span class="o">.</span><span class="n">GetN</span><span class="p">()</span><span class="si">}</span><span class="s2"> points&quot;</span><span class="p">)</span>

    <span class="c1"># --- 2. TH1D (ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ) ã¸ã®å¤‰æ› ---</span>
    <span class="c1"># ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ã¨ã—ã¦å¤‰æ› (ãƒ“ãƒ³è©°ã‚ã¯è‡ªå‹•ã¾ãŸã¯æŒ‡å®šå¯èƒ½)</span>
    <span class="n">hist</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_th1d</span><span class="p">()</span>

    <span class="n">c2</span> <span class="o">=</span> <span class="n">ROOT</span><span class="o">.</span><span class="n">TCanvas</span><span class="p">(</span><span class="s2">&quot;c2&quot;</span><span class="p">,</span> <span class="s2">&quot;TH1D Example&quot;</span><span class="p">,</span> <span class="mi">800</span><span class="p">,</span> <span class="mi">600</span><span class="p">)</span>
    <span class="n">hist</span><span class="o">.</span><span class="n">SetTitle</span><span class="p">(</span><span class="s2">&quot;ROOT TH1D;GPS Time [s];Amplitude&quot;</span><span class="p">)</span>
    <span class="n">hist</span><span class="o">.</span><span class="n">SetLineColor</span><span class="p">(</span><span class="n">ROOT</span><span class="o">.</span><span class="n">kRed</span><span class="p">)</span>
    <span class="n">hist</span><span class="o">.</span><span class="n">Draw</span><span class="p">()</span>
    <span class="n">c2</span><span class="o">.</span><span class="n">Draw</span><span class="p">()</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Created TH1D: </span><span class="si">{</span><span class="n">hist</span><span class="o">.</span><span class="n">GetName</span><span class="p">()</span><span class="si">}</span><span class="s2"> with </span><span class="si">{</span><span class="n">hist</span><span class="o">.</span><span class="n">GetNbinsX</span><span class="p">()</span><span class="si">}</span><span class="s2"> bins&quot;</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">t</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">graph</span><span class="p">,</span> <span class="n">hist</span><span class="p">,</span> <span class="n">c1</span><span class="p">,</span> <span class="n">c2</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ROOT is not installed. Skipping ROOT examples.&quot;</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;An error occurred: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
ROOT is not installed. Skipping ROOT examples.
</pre></div></div>
</div>
</section>
<section id="5.2.-ROOT-ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰ã®å¾©å…ƒ-(from_root)">
<h3>5.2. ROOT ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰ã®å¾©å…ƒ (<code class="docutils literal notranslate"><span class="pre">from_root</span></code>)<a class="headerlink" href="#5.2.-ROOT-ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰ã®å¾©å…ƒ-(from_root)" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>ROOT</strong>: ROOT ã¯ CERN ãŒé–‹ç™ºã—ãŸé«˜ã‚¨ãƒãƒ«ã‚®ãƒ¼ç‰©ç†å­¦å‘ã‘ã®ãƒ‡ãƒ¼ã‚¿è§£æãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚ ğŸ“š <a class="reference external" href="https://root.cern/">ROOT Documentation</a></p>
</div></blockquote>
<p>æ—¢å­˜ã® ROOT ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚ã‚‹ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ã‚„ã‚°ãƒ©ãƒ•ã‚’èª­ã¿è¾¼ã‚“ã§ã€è§£æã—ã‚„ã™ã„ <code class="docutils literal notranslate"><span class="pre">gwexpy</span></code> ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«æˆ»ã™ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="k">if</span> <span class="s2">&quot;hist&quot;</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">()</span> <span class="ow">and</span> <span class="n">hist</span><span class="p">:</span>
        <span class="c1"># ROOT TH1D -&gt; TimeSeries</span>
        <span class="c1"># ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ã®ãƒ“ãƒ³å†…å®¹ã‚’æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦èª­ã¿è¾¼ã¿ã¾ã™</span>
        <span class="n">ts_restored</span> <span class="o">=</span> <span class="n">from_root</span><span class="p">(</span><span class="n">TimeSeries</span><span class="p">,</span> <span class="n">hist</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Restored TimeSeries: </span><span class="si">{</span><span class="n">ts_restored</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">ts_restored</span><span class="p">)</span>

        <span class="c1"># TGraph ã‹ã‚‰ã®å¾©å…ƒã‚‚åŒæ§˜</span>
        <span class="n">ts_from_graph</span> <span class="o">=</span> <span class="n">from_root</span><span class="p">(</span><span class="n">TimeSeries</span><span class="p">,</span> <span class="n">graph</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Restored from TGraph: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">ts_from_graph</span><span class="p">)</span><span class="si">}</span><span class="s2"> samples&quot;</span><span class="p">)</span>

        <span class="k">del</span> <span class="n">ts_restored</span><span class="p">,</span> <span class="n">ts_from_graph</span>

<span class="k">except</span> <span class="ne">NameError</span><span class="p">:</span>
    <span class="k">pass</span>  <span class="c1"># hist ã‚„ graph ãŒä½œæˆã•ã‚Œãªã‹ã£ãŸå ´åˆ</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="k">pass</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="6.-åœ°çƒç‰©ç†å­¦ãƒ»åœ°éœ‡å­¦ãƒ»é›»ç£æ°—å­¦">
<h2>6. åœ°çƒç‰©ç†å­¦ãƒ»åœ°éœ‡å­¦ãƒ»é›»ç£æ°—å­¦<a class="headerlink" href="#6.-åœ°çƒç‰©ç†å­¦ãƒ»åœ°éœ‡å­¦ãƒ»é›»ç£æ°—å­¦" title="Link to this heading">ïƒ</a></h2>
<section id="6.1.-ObsPy-[Original-GWpy]">
<h3>6.1. ObsPy [Original GWpy]<a class="headerlink" href="#6.1.-ObsPy-[Original-GWpy]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>ObsPy</strong>: ObsPy ã¯åœ°éœ‡å­¦ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ãƒ»å‡¦ç†ãƒ»è§£æã®ãŸã‚ã® Python ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€MiniSEED å½¢å¼ãªã©ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://docs.obspy.org/">ObsPy Documentation</a></p>
</div></blockquote>
<p>åœ°éœ‡å­¦ã§æ¨™æº–çš„ãª ObsPy ã¨ã®ç›¸äº’é‹ç”¨ã‚’ã‚µãƒãƒ¼ãƒˆã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">obspy</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">obspy</span>
    <span class="c1"># TimeSeries -&gt; ObsPy Trace</span>
    <span class="n">tr</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_obspy</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--- ObsPy Trace ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">tr</span><span class="p">)</span>

    <span class="c1"># Plot using ObsPy</span>
    <span class="n">tr</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>

    <span class="c1"># Recover to TimeSeries</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.timeseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">TimeSeries</span>

    <span class="n">ts_recovered</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_obspy</span><span class="p">(</span><span class="n">tr</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recovered from ObsPy:&quot;</span><span class="p">,</span> <span class="n">ts_recovered</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">tr</span><span class="p">,</span> <span class="n">ts_recovered</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ObsPy not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
ObsPy not installed.
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">obspy</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">obspy</span>
    <span class="n">tr</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_obspy</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ObsPy Trace:&quot;</span><span class="p">,</span> <span class="n">tr</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">tr</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ObsPy not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
ObsPy not installed.
</pre></div></div>
</div>
</section>
<section id="6.2.-SimPEG-ã¨ã®é€£æº-[GWExPy-New]">
<h3>6.2. SimPEG ã¨ã®é€£æº [GWExPy New]<a class="headerlink" href="#6.2.-SimPEG-ã¨ã®é€£æº-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>SimPEG</strong>: SimPEG ã¯åœ°çƒç‰©ç†å­¦çš„é€†å•é¡Œã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»æ¨å®šãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚ ğŸ“š <a class="reference external" href="https://simpeg.xyz/">SimPEG Documentation</a></p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">gwexpy</span></code> ã¯ã€åœ°çƒç‰©ç†å­¦ã®ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰è¨ˆç®—ãƒ»åè»¢ãƒ¢ãƒ‡ãƒªãƒ³ã‚°ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã‚ã‚‹ <code class="docutils literal notranslate"><span class="pre">SimPEG</span></code> ã¨ã®é€£æºã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚ <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code> (TDEM) ãŠã‚ˆã³ <code class="docutils literal notranslate"><span class="pre">FrequencySeries</span></code> (FDEM) ã‚’ <code class="docutils literal notranslate"><span class="pre">simpeg.data.Data</span></code> ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¤‰æ›ã—ãŸã‚Šã€ãã®é€†ã‚’è¡Œã£ãŸã‚Šã§ãã¾ã™ã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">simpeg</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">simpeg</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">simpeg</span><span class="w"> </span><span class="kn">import</span> <span class="n">maps</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">maps</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.frequencyseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">FrequencySeries</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.timeseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">TimeSeries</span>

    <span class="c1"># --- TimeSeries -&gt; SimPEG (TDEMæƒ³å®š) ---</span>
    <span class="n">ts</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">),</span> <span class="n">dt</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;A/m^2&quot;</span><span class="p">)</span>
    <span class="n">simpeg_data_td</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_simpeg</span><span class="p">(</span><span class="n">location</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;SimPEG TDEM data shape:&quot;</span><span class="p">,</span> <span class="n">simpeg_data_td</span><span class="o">.</span><span class="n">dobs</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

    <span class="c1"># --- FrequencySeries -&gt; SimPEG (FDEMæƒ³å®š) ---</span>
    <span class="n">fs</span> <span class="o">=</span> <span class="n">FrequencySeries</span><span class="p">(</span>
        <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="n">j</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">,</span> <span class="n">frequencies</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">simpeg_data_fd</span> <span class="o">=</span> <span class="n">fs</span><span class="o">.</span><span class="n">to_simpeg</span><span class="p">(</span><span class="n">location</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]),</span> <span class="n">orientation</span><span class="o">=</span><span class="s2">&quot;z&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;SimPEG FDEM data shape:&quot;</span><span class="p">,</span> <span class="n">simpeg_data_fd</span><span class="o">.</span><span class="n">dobs</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">simpeg_data_td</span><span class="p">,</span> <span class="n">simpeg_data_fd</span><span class="p">,</span> <span class="n">fs</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;SimPEG library not found. Skipping example.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
SimPEG library not found. Skipping example.
</pre></div></div>
</div>
</section>
<section id="6.3.-MTH5-/-MTpy-[GWExPy-New]">
<h3>6.3. MTH5 / MTpy [GWExPy New]<a class="headerlink" href="#6.3.-MTH5-/-MTpy-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>MTH5</strong>: MTH5 ã¯ç£æ°—åœ°é›»æµ (MT) ãƒ‡ãƒ¼ã‚¿ã®ãŸã‚ã® HDF5 ãƒ™ãƒ¼ã‚¹ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ã™ã€‚ ğŸ“š <a class="reference external" href="https://mth5.readthedocs.io/">MTH5 Documentation</a></p>
</div></blockquote>
<p>åœ°ç£æ°—åœ°é›»æµæ³•ãƒ‡ãƒ¼ã‚¿ã® MTH5 ä¿å­˜ã«å¯¾å¿œã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">tempfile</span>

    <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;mth5&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span><span class="p">)</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;mt_metadata&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span><span class="p">)</span>

    <span class="kn">import</span><span class="w"> </span><span class="nn">mth5</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">mth5</span>
    <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">NamedTemporaryFile</span><span class="p">(</span><span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;.h5&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">tmp</span><span class="p">:</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.interop.mt_</span><span class="w"> </span><span class="kn">import</span> <span class="n">from_mth5</span><span class="p">,</span> <span class="n">to_mth5</span>

        <span class="c1"># TimeSeries -&gt; MTH5</span>
        <span class="c1"># We need to provide station and run names for MTH5 structure</span>
        <span class="n">to_mth5</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">tmp</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">station</span><span class="o">=</span><span class="s2">&quot;SITE01&quot;</span><span class="p">,</span> <span class="n">run</span><span class="o">=</span><span class="s2">&quot;RUN01&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Saved to MTH5 file: </span><span class="si">{</span><span class="n">tmp</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Display structure info if needed, or just recover</span>
        <span class="c1"># Recover</span>
        <span class="n">ts_recovered</span> <span class="o">=</span> <span class="n">from_mth5</span><span class="p">(</span><span class="n">tmp</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;SITE01&quot;</span><span class="p">,</span> <span class="s2">&quot;RUN01&quot;</span><span class="p">,</span> <span class="n">ts</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="s2">&quot;Ex&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recovered from MTH5:&quot;</span><span class="p">,</span> <span class="n">ts_recovered</span><span class="p">)</span>

        <span class="n">ts_recovered</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Recovered from MTH5&quot;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

        <span class="k">del</span> <span class="n">ts_recovered</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;mth5 not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
mth5 not installed.
</pre></div></div>
</div>
</section>
</section>
<section id="7.-éŸ³éŸ¿ãƒ»éŸ³å£°è§£æ">
<h2>7. éŸ³éŸ¿ãƒ»éŸ³å£°è§£æ<a class="headerlink" href="#7.-éŸ³éŸ¿ãƒ»éŸ³å£°è§£æ" title="Link to this heading">ïƒ</a></h2>
<section id="7.1.-Librosa-/-Pydub-[GWExPy-New]">
<h3>7.1. Librosa / Pydub [GWExPy New]<a class="headerlink" href="#7.1.-Librosa-/-Pydub-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>pydub</strong>: pydub ã¯ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªãƒ•ã‚¡ã‚¤ãƒ«ã®æ“ä½œï¼ˆç·¨é›†ãƒ»å¤‰æ›ãƒ»ã‚¨ãƒ•ã‚§ã‚¯ãƒˆï¼‰ã®ãŸã‚ã®ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚ ğŸ“š <a class="reference external" href="https://github.com/jiaaro/pydub">pydub Documentation</a></p>
</div></blockquote>
<blockquote>
<div><p><strong>librosa</strong>: librosa ã¯éŸ³å£°ãƒ»éŸ³æ¥½è§£æã®ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€ã‚¹ãƒšã‚¯ãƒˆãƒ«è§£æã‚„ãƒ“ãƒ¼ãƒˆæ¤œå‡ºãªã©ã®æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://librosa.org/">librosa Documentation</a></p>
</div></blockquote>
<p>éŸ³å£°å‡¦ç†ãƒ©ã‚¤ãƒ–ãƒ©ãƒª Librosa ã‚„ Pydub ã¨ã®é€£æºã‚’ã‚µãƒãƒ¼ãƒˆã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">librosa</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">librosa</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

    <span class="c1"># TimeSeries -&gt; Librosa (y, sr)</span>
    <span class="n">y</span><span class="p">,</span> <span class="n">sr</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_librosa</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;--- Librosa Data ---</span><span class="se">\n</span><span class="s2">Signal shape: </span><span class="si">{</span><span class="n">y</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2">, Sample rate: </span><span class="si">{</span><span class="n">sr</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Plot using librosa style (matplotlib)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y</span><span class="p">[:</span><span class="mi">1000</span><span class="p">])</span>  <span class="c1"># Plot first 1000 samples</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Librosa Audio Signal (Zoom)&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="c1"># Recover to TimeSeries</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.timeseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">TimeSeries</span>

    <span class="n">ts_recovered</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">dt</span><span class="o">=</span><span class="mf">1.0</span> <span class="o">/</span> <span class="n">sr</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recovered from Librosa:&quot;</span><span class="p">,</span> <span class="n">ts_recovered</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">y</span><span class="p">,</span> <span class="n">sr</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Librosa not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Librosa not installed.
</pre></div></div>
</div>
</section>
</section>
<section id="8.-åŒ»å­¦ãƒ»ç”Ÿä½“ä¿¡å·è§£æ">
<h2>8. åŒ»å­¦ãƒ»ç”Ÿä½“ä¿¡å·è§£æ<a class="headerlink" href="#8.-åŒ»å­¦ãƒ»ç”Ÿä½“ä¿¡å·è§£æ" title="Link to this heading">ïƒ</a></h2>
<section id="8.1.-MNE-Python-[GWExPy-New]">
<h3>8.1. MNE-Python [GWExPy New]<a class="headerlink" href="#8.1.-MNE-Python-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>MNE</strong>: MNE-Python ã¯è„³æ³¢ (EEG)ãƒ»è„³ç£å›³ (MEG) ãƒ‡ãƒ¼ã‚¿ã®è§£æãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€ç¥çµŒç§‘å­¦ç ”ç©¶ã«åºƒãä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://mne.tools/">MNE Documentation</a></p>
</div></blockquote>
<p>è„³é›»å›³ (EEG/MEG) è§£æãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ MNE ã¨ã®é€£æºã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">mne</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">mne</span>
    <span class="c1"># TimeSeries -&gt; MNE Raw</span>
    <span class="n">raw</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_mne</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--- MNE Raw ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">raw</span><span class="p">)</span>

    <span class="c1"># Display info</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">raw</span><span class="o">.</span><span class="n">info</span><span class="p">)</span>

    <span class="c1"># Recover to TimeSeries</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.timeseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">TimeSeries</span>

    <span class="n">ts_recovered</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_mne</span><span class="p">(</span><span class="n">raw</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="n">ts</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="s2">&quot;ch0&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recovered from MNE:&quot;</span><span class="p">,</span> <span class="n">ts_recovered</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">raw</span><span class="p">,</span> <span class="n">ts_recovered</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;MNE not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
MNE not installed.
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">mne</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">mne</span>
    <span class="n">raw</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_mne</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;MNE Raw:&quot;</span><span class="p">,</span> <span class="n">raw</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">raw</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;MNE not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
MNE not installed.
</pre></div></div>
</div>
</section>
<section id="8.2.-Elephant-/-quantities-ã¨ã®é€£æº-[GWExPy-New]">
<h3>8.2. Elephant / quantities ã¨ã®é€£æº [GWExPy New]<a class="headerlink" href="#8.2.-Elephant-/-quantities-ã¨ã®é€£æº-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">gwexpy</span></code> ã® <code class="docutils literal notranslate"><span class="pre">FrequencySeries</span></code> ã‚„ <code class="docutils literal notranslate"><span class="pre">Spectrogram</span></code> ã¯ã€<code class="docutils literal notranslate"><span class="pre">quantities.Quantity</span></code> ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ç›¸äº’å¤‰æ›å¯èƒ½ã§ã™ã€‚ ã“ã‚Œã¯ Elephant ã‚„ Neo ã¨ã®é€£æºã«å½¹ç«‹ã¡ã¾ã™ã€‚</p>
<p>â€» äº‹å‰ã« <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">quantities</span></code> ãŒå¿…è¦ã§ã™ã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">quantities</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pq</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">pq</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.frequencyseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">FrequencySeries</span>

    <span class="c1"># FrequencySeries ã®ä½œæˆ</span>
    <span class="n">freqs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">101</span><span class="p">)</span>
    <span class="n">data_fs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">101</span><span class="p">)</span>
    <span class="n">fs</span> <span class="o">=</span> <span class="n">FrequencySeries</span><span class="p">(</span><span class="n">data_fs</span><span class="p">,</span> <span class="n">frequencies</span><span class="o">=</span><span class="n">freqs</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;V&quot;</span><span class="p">)</span>

    <span class="c1"># to_quantities</span>
    <span class="n">q_obj</span> <span class="o">=</span> <span class="n">fs</span><span class="o">.</span><span class="n">to_quantities</span><span class="p">(</span><span class="n">units</span><span class="o">=</span><span class="s2">&quot;mV&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Quantities object:&quot;</span><span class="p">,</span> <span class="n">q_obj</span><span class="p">)</span>

    <span class="c1"># from_quantities</span>
    <span class="n">fs_new</span> <span class="o">=</span> <span class="n">FrequencySeries</span><span class="o">.</span><span class="n">from_quantities</span><span class="p">(</span><span class="n">q_obj</span><span class="p">,</span> <span class="n">frequencies</span><span class="o">=</span><span class="n">freqs</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Restored FrequencySeries unit:&quot;</span><span class="p">,</span> <span class="n">fs_new</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">freqs</span><span class="p">,</span> <span class="n">data_fs</span><span class="p">,</span> <span class="n">fs</span><span class="p">,</span> <span class="n">q_obj</span><span class="p">,</span> <span class="n">fs_new</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;quantities library not found. Skipping example.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
quantities library not found. Skipping example.
</pre></div></div>
</div>
</section>
<section id="8.3.-Neo-[GWExPy-New]">
<h3>8.3. Neo [GWExPy New]<a class="headerlink" href="#8.3.-Neo-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>Neo</strong>: Neo ã¯é›»æ°—ç”Ÿç†å­¦ãƒ‡ãƒ¼ã‚¿ï¼ˆç¥çµŒç§‘å­¦ï¼‰ã®ãŸã‚ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€æ§˜ã€…ãªãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¸ã®å…¥å‡ºåŠ›ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://neo.readthedocs.io/">Neo Documentation</a></p>
</div></blockquote>
<p>é›»æ°—ç”Ÿç†ãƒ‡ãƒ¼ã‚¿ã®å…±é€šè¦æ ¼ Neo ã¸ã®å¤‰æ›ã‚’ã‚µãƒãƒ¼ãƒˆã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">neo</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">neo</span>
    <span class="c1"># TimeSeries -&gt; Neo AnalogSignal</span>
    <span class="c1"># to_neo is available in gwexpy.interop</span>
    <span class="c1"># Note: TimeseriesMatrix is preferred for multi-channel Neo conversion,</span>
    <span class="c1"># but we can convert single TimeSeries by wrapping it.</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.interop</span><span class="w"> </span><span class="kn">import</span> <span class="n">from_neo</span><span class="p">,</span> <span class="n">to_neo</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">from_neo</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">to_neo</span>
    <span class="c1"># For single TimeSeries, we might need a Matrix wrapper or direct helper.</span>
    <span class="c1"># Assuming helper exists or using Matrix:</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.timeseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">TimeSeriesMatrix</span>

    <span class="n">tm</span> <span class="o">=</span> <span class="n">TimeSeriesMatrix</span><span class="p">(</span>
        <span class="n">ts</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="p">:],</span> <span class="n">t0</span><span class="o">=</span><span class="n">ts</span><span class="o">.</span><span class="n">t0</span><span class="p">,</span> <span class="n">dt</span><span class="o">=</span><span class="n">ts</span><span class="o">.</span><span class="n">dt</span><span class="p">,</span> <span class="n">channel_names</span><span class="o">=</span><span class="p">[</span><span class="n">ts</span><span class="o">.</span><span class="n">name</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="n">sig</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">to_neo</span><span class="p">()</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--- Neo AnalogSignal ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span>

    <span class="c1"># Display/Plot</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">sig</span><span class="o">.</span><span class="n">times</span><span class="p">,</span> <span class="n">sig</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Neo AnalogSignal Plot&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="c1"># Recover</span>
    <span class="n">tm_recovered</span> <span class="o">=</span> <span class="n">TimeSeriesMatrix</span><span class="o">.</span><span class="n">from_neo</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span>
    <span class="n">ts_recovered</span> <span class="o">=</span> <span class="n">tm_recovered</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recovered from Neo:&quot;</span><span class="p">,</span> <span class="n">ts_recovered</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">tm</span><span class="p">,</span> <span class="n">tm_recovered</span><span class="p">,</span> <span class="n">sig</span><span class="p">,</span> <span class="n">ts_recovered</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;neo not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
neo not installed.
</pre></div></div>
</div>
</section>
</section>
<section id="9.-ã¾ã¨ã‚">
<h2>9. ã¾ã¨ã‚<a class="headerlink" href="#9.-ã¾ã¨ã‚" title="Link to this heading">ïƒ</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">gwexpy</span></code> ã¯å¤šç¨®å¤šæ§˜ãª bilimti å‘ã‘ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã®ç›¸äº’é‹ç”¨ã‚’æä¾›ã—ã€æ—¢å­˜ã®ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã¨ã®ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ãªçµ±åˆã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="intro_mapplotting.html" class="btn btn-neutral float-left" title="ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«: å…¨å¤©ãƒãƒƒãƒ—ã¨åœ°ç†ãƒãƒƒãƒ—ã®ãƒ—ãƒ­ãƒƒãƒˆ" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="matrix_timeseries.html" class="btn btn-neutral float-right" title="TimeSeriesMatrix ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2026, GWexpy contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>