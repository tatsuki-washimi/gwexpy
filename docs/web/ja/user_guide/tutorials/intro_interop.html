

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GWExPy TimeSeries ç›¸äº’é‹ç”¨æ€§ (Interop) ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ« &mdash; GWexpy Documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/nbsphinx-code-cells.css?v=2aa19091" />

  
      <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../../../_static/design-tabs.js?v=f930bc37"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="TimeSeriesMatrix ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«" href="matrix_timeseries.html" />
    <link rel="prev" title="ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«: å…¨å¤©ãƒãƒƒãƒ—ã¨åœ°ç†ãƒãƒƒãƒ—ã®ãƒ—ãƒ­ãƒƒãƒˆ" href="intro_mapplotting.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            GWexpy
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../en/index.html">GWexpy Documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">GWexpy ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¸ã‚ˆã†ã“ã</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../index.html#id1">ã‚ãªãŸã«åˆã£ãŸã‚¬ã‚¤ãƒ‰</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#id2">è¦–è¦šçš„ãªä¾‹</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#id3">å®Ÿä¾‹ã‚®ãƒ£ãƒ©ãƒªãƒ¼</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#id4">ãƒ¦ãƒ¼ã‚¶ãƒ¼åˆ¥å­¦ç¿’ãƒ‘ã‚¹</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html#id5">ä¸»è¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../installation.html">ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quickstart.html">ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started.html">ã¯ã˜ã‚ã« (Getting Started)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gwexpy_for_gwpy_users_ja.html">GWexpy æ©Ÿèƒ½ä¸€è¦§ (GWpyãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘)</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="index.html#i">I. åŸºæœ¬ãƒ‡ãƒ¼ã‚¿æ§‹é€ </a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#ii">II. å¤šãƒãƒ£ãƒ³ãƒãƒ« &amp; è¡Œåˆ—ã‚³ãƒ³ãƒ†ãƒŠ</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#iii-field-api">III. é«˜æ¬¡å…ƒãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ (Field API)</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#iv">IV. é«˜åº¦ãªä¿¡å·å‡¦ç†</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#v">V. ç‰¹æ®Šãƒ„ãƒ¼ãƒ«</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../examples/index.html">ã‚±ãƒ¼ã‚¹ã‚¹ã‚¿ãƒ‡ã‚£</a></li>
<li class="toctree-l3"><a class="reference internal" href="../numerical_stability.html">æ•°å€¤çš„å®‰å®šæ€§ã¨ç²¾åº¦</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scalarfield_slicing.html">ã‚¹ã‚«ãƒ©ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã‚¹ãƒ©ã‚¤ã‚¹æ“ä½œã‚¬ã‚¤ãƒ‰</a></li>
<li class="toctree-l3"><a class="reference internal" href="../validated_algorithms.html">æ¤œè¨¼æ¸ˆã¿ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ </a></li>
<li class="toctree-l3"><a class="reference internal" href="../validated_algorithms.html#id2">å‰ææ¡ä»¶ã¨è¦ç´„</a></li>
<li class="toctree-l3"><a class="reference internal" href="../architecture.html">ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨ç‰©ç†</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/index.html">ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#id6">æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#language">è¨€èª (Language)</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">GWexpy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">GWexpy ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¸ã‚ˆã†ã“ã</a></li>
          <li class="breadcrumb-item"><a href="index.html">ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«</a></li>
      <li class="breadcrumb-item active">GWExPy TimeSeries ç›¸äº’é‹ç”¨æ€§ (Interop) ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/tatsuki-washimi/gwexpy/blob/main/docs/web/ja/user_guide/tutorials/intro_interop.ipynb" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="admonition note">
<p class="admonition-title">Note</p>
<p>ã“ã®ãƒšãƒ¼ã‚¸ã¯ Jupyter Notebook ã‹ã‚‰ç”Ÿæˆã•ã‚Œã¾ã—ãŸã€‚
<a class="reference external" href="https://github.com/tatsuki-washimi/gwexpy/raw/main/docs/web/ja/user_guide/tutorials/intro_interop.ipynb">ãƒãƒ¼ãƒˆãƒ–ãƒƒã‚¯ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ (.ipynb)</a></p>
</div>
<section id="GWExPy-TimeSeries-ç›¸äº’é‹ç”¨æ€§-(Interop)-ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«">
<h1>GWExPy TimeSeries ç›¸äº’é‹ç”¨æ€§ (Interop) ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«<a class="headerlink" href="#GWExPy-TimeSeries-ç›¸äº’é‹ç”¨æ€§-(Interop)-ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«" title="Link to this heading">ïƒ</a></h1>
<p><a class="reference external" href="https://colab.research.google.com/github/tatsuki-washimi/gwexpy/blob/main/docs/web/en/user_guide/tutorials/intro_interop.ipynb"><img alt="Open In Colab" src="https://colab.research.google.com/assets/colab-badge.svg" /></a></p>
<p>ã“ã®ãƒãƒ¼ãƒˆãƒ–ãƒƒã‚¯ã§ã¯ã€<code class="docutils literal notranslate"><span class="pre">gwexpy</span></code> ã® <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code> ã‚¯ãƒ©ã‚¹ã«è¿½åŠ ã•ã‚ŒãŸæ–°ã—ã„ç›¸äº’é‹ç”¨æ©Ÿèƒ½ (Interoperability Features) ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚ <code class="docutils literal notranslate"><span class="pre">gwexpy</span></code> ã¯ã€Pandas, Xarray, PyTorch, Astropy ãªã©ã®ä¸€èˆ¬çš„ãªãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚¨ãƒ³ã‚¹ãƒ»ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã®é–“ã§ã€ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ã«ãƒ‡ãƒ¼ã‚¿ã‚’å¤‰æ›ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<section id="ç›®æ¬¡">
<h2>ç›®æ¬¡<a class="headerlink" href="#ç›®æ¬¡" title="Link to this heading">ïƒ</a></h2>
<ul>
<li><ol class="arabic simple">
<li><p>æ±ç”¨ãƒ‡ãƒ¼ã‚¿å½¢å¼ãƒ»ãƒ‡ãƒ¼ã‚¿åŸºç›¤</p></li>
</ol>
<ul class="simple">
<li><p>1.1. NumPy [Original GWpy]</p></li>
<li><p>1.2. Pandas ã¨ã®é€£æº [Original GWpy]</p></li>
<li><p>1.3. Polars [GWExPy New]</p></li>
<li><p>1.4. Xarray ã¨ã®é€£æº [Original GWpy]</p></li>
<li><p>1.5. Dask ã¨ã®é€£æº [GWExPy New]</p></li>
<li><p>1.6. JSON / Python Dict (to_json) (to_json) [GWExPy New]</p></li>
</ul>
</li>
<li><ol class="arabic simple" start="2">
<li><p>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ»ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å±¤</p></li>
</ol>
<ul class="simple">
<li><p>2.1. HDF5 [Original GWpy]</p></li>
<li><p>2.2. SQLite [GWExPy New]</p></li>
<li><p>2.3. Zarr [GWExPy New]</p></li>
<li><p>2.4. netCDF4 [GWExPy New]</p></li>
</ul>
</li>
<li><ol class="arabic simple" start="3">
<li><p>æƒ…å ±ç§‘å­¦ãƒ»æ©Ÿæ¢°å­¦ç¿’ãƒ»åŠ é€Ÿè¨ˆç®—</p></li>
</ol>
<ul class="simple">
<li><p>3.1. PyTorch ã¨ã®é€£æº [GWExPy New]</p></li>
<li><p>3.2. CuPy (CUDA åŠ é€Ÿ) [GWExPy New]</p></li>
<li><p>3.3. TensorFlow ã¨ã®é€£æº [GWExPy New]</p></li>
<li><p>3.4. JAX ã¨ã®é€£æº [GWExPy New]</p></li>
</ul>
</li>
<li><ol class="arabic simple" start="4">
<li><p>å¤©æ–‡å­¦ãƒ»é‡åŠ›æ³¢ç‰©ç†å­¦</p></li>
</ol>
<ul class="simple">
<li><p>4.1. PyCBC / LAL [Original GWpy]</p></li>
<li><p>4.2. Astropy ã¨ã®é€£æº [Original GWpy]</p></li>
<li><p>4.3. Specutils ã¨ã®é€£æº [GWExPy New]</p></li>
<li><p>4.4. Pyspeckit ã¨ã®é€£æº [GWExPy New]</p></li>
</ul>
</li>
<li><ol class="arabic simple" start="5">
<li><p>ç´ ç²’å­ç‰©ç†å­¦ãƒ»é«˜ã‚¨ãƒãƒ«ã‚®ãƒ¼ç‰©ç†</p></li>
</ol>
<ul class="simple">
<li><p>5.1. CERN ROOT ã¨ã®é€£æº [GWExPy New]</p></li>
<li><p>5.2. ROOT ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰ã®å¾©å…ƒ (<code class="docutils literal notranslate"><span class="pre">from_root</span></code>)</p></li>
</ul>
</li>
<li><ol class="arabic simple" start="6">
<li><p>åœ°çƒç‰©ç†å­¦ãƒ»åœ°éœ‡å­¦ãƒ»é›»ç£æ°—å­¦</p></li>
</ol>
<ul class="simple">
<li><p>6.1. ObsPy [Original GWpy]</p></li>
<li><p>6.2. SimPEG ã¨ã®é€£æº [GWExPy New]</p></li>
<li><p>6.3. MTH5 / MTpy [GWExPy New]</p></li>
</ul>
</li>
<li><ol class="arabic simple" start="7">
<li><p>éŸ³éŸ¿ãƒ»éŸ³å£°è§£æ</p></li>
</ol>
<ul class="simple">
<li><p>7.1. Librosa / Pydub [GWExPy New]</p></li>
</ul>
</li>
<li><ol class="arabic simple" start="8">
<li><p>åŒ»å­¦ãƒ»ç”Ÿä½“ä¿¡å·è§£æ</p></li>
</ol>
<ul class="simple">
<li><p>8.1. MNE-Python [GWExPy New]</p></li>
<li><p>8.2. Elephant / quantities ã¨ã®é€£æº [GWExPy New]</p></li>
<li><p>8.3. Neo [GWExPy New]</p></li>
</ul>
</li>
<li><ol class="arabic simple" start="9">
<li><p>ã¾ã¨ã‚</p></li>
</ol>
</li>
</ul>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;TF_CPP_MIN_LOG_LEVEL&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;3&#39;
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">warnings</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">astropy</span><span class="w"> </span><span class="kn">import</span> <span class="n">units</span> <span class="k">as</span> <span class="n">u</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">gwpy.time</span><span class="w"> </span><span class="kn">import</span> <span class="n">LIGOTimeGPS</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.timeseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">TimeSeries</span>

<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">,</span> <span class="s2">&quot;Wswiglal-redir-stdio&quot;</span><span class="p">)</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="ne">UserWarning</span><span class="p">)</span>

<span class="c1"># Suppress MTH5 redundant warnings</span>
<span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;mth5.groups.base&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;mth5&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã®ä½œæˆ</span>
<span class="c1"># 10ç§’é–“ã€100Hzã®æ­£å¼¦æ³¢ãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆã—ã¾ã™</span>
<span class="n">rate</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">Hz</span>
<span class="n">dt</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">rate</span>
<span class="n">t0</span> <span class="o">=</span> <span class="n">LIGOTimeGPS</span><span class="p">(</span><span class="mi">1234567890</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">duration</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span>
<span class="n">size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">rate</span> <span class="o">*</span> <span class="n">duration</span><span class="p">)</span>
<span class="n">times</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">size</span><span class="p">)</span> <span class="o">*</span> <span class="n">dt</span><span class="o">.</span><span class="n">value</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">times</span><span class="p">)</span>  <span class="c1"># 1Hz sine wave</span>

<span class="n">ts</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">t0</span><span class="o">=</span><span class="n">t0</span><span class="p">,</span> <span class="n">dt</span><span class="o">=</span><span class="n">dt</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;V&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;demo_signal&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Original TimeSeries:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span>
<span class="n">ts</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Original TimeSeries&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Original TimeSeries:
TimeSeries([ 0.        ,  0.06279052,  0.12533323, ...,
            -0.18738131, -0.12533323, -0.06279052]
           unit: V,
           t0: 1234567890.0 1 / Hz,
           dt: 0.01 1 / Hz,
           name: demo_signal,
           channel: None)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../../_images/web_ja_user_guide_tutorials_intro_interop_4_1.png" src="../../../../_images/web_ja_user_guide_tutorials_intro_interop_4_1.png" />
</div>
</div>
</section>
<section id="1.-æ±ç”¨ãƒ‡ãƒ¼ã‚¿å½¢å¼ãƒ»ãƒ‡ãƒ¼ã‚¿åŸºç›¤">
<h2>1. æ±ç”¨ãƒ‡ãƒ¼ã‚¿å½¢å¼ãƒ»ãƒ‡ãƒ¼ã‚¿åŸºç›¤<a class="headerlink" href="#1.-æ±ç”¨ãƒ‡ãƒ¼ã‚¿å½¢å¼ãƒ»ãƒ‡ãƒ¼ã‚¿åŸºç›¤" title="Link to this heading">ïƒ</a></h2>
<section id="1.1.-NumPy-[Original-GWpy]">
<h3>1.1. NumPy [Original GWpy]<a class="headerlink" href="#1.1.-NumPy-[Original-GWpy]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>NumPy</strong>: NumPy ã¯ Python ã®æ•°å€¤è¨ˆç®—ã®åŸºç›¤ã¨ãªã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€å¤šæ¬¡å…ƒé…åˆ—ã¨é«˜é€Ÿãªæ•°å­¦æ¼”ç®—ã‚’æä¾›ã—ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://numpy.org/">NumPy Documentation</a></p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">TimeSeries.value</span></code> ã‚„ <code class="docutils literal notranslate"><span class="pre">np.asarray(ts)</span></code> ã§ NumPy é…åˆ—ã‚’å–å¾—ã§ãã¾ã™ã€‚</p>
</section>
<section id="1.2.-Pandas-ã¨ã®é€£æº-[Original-GWpy]">
<h3>1.2. Pandas ã¨ã®é€£æº [Original GWpy]<a class="headerlink" href="#1.2.-Pandas-ã¨ã®é€£æº-[Original-GWpy]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>Pandas</strong>: Pandas ã¯ãƒ‡ãƒ¼ã‚¿åˆ†æãƒ»æ“ä½œã®ãŸã‚ã®å¼·åŠ›ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€DataFrame ã¨ Series ã«ã‚ˆã‚‹æŸ”è»Ÿãªãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’æä¾›ã—ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://pandas.pydata.org/">Pandas Documentation</a></p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">to_pandas()</span></code> ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†ã¨ã€<code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code> ã‚’ <code class="docutils literal notranslate"><span class="pre">pandas.Series</span></code> ã«å¤‰æ›ã§ãã¾ã™ã€‚ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¯ <code class="docutils literal notranslate"><span class="pre">datetime</span></code> (UTC), <code class="docutils literal notranslate"><span class="pre">gps</span></code>, <code class="docutils literal notranslate"><span class="pre">seconds</span></code> (Unix timestamp) ã‹ã‚‰é¸æŠå¯èƒ½ã§ã™ã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="c1"># Pandas Series ã¸ã®å¤‰æ› (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ datetime index)</span>
    <span class="n">s_pd</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_pandas</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s2">&quot;datetime&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">--- Converted to Pandas Series ---&quot;</span><span class="p">)</span>
    <span class="n">display</span><span class="p">(</span><span class="n">s_pd</span><span class="p">)</span>
    <span class="n">s_pd</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Pandas Series&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="c1"># Pandas Series ã‹ã‚‰ TimeSeries ã¸ã®å¾©å…ƒ</span>
    <span class="n">ts_restored</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_pandas</span><span class="p">(</span><span class="n">s_pd</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;V&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">--- Restored TimeSeries from Pandas ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">ts_restored</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">s_pd</span><span class="p">,</span> <span class="n">ts_restored</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Pandas is not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

--- Converted to Pandas Series ---
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
time_utc
2019-02-18 23:31:49+00:00           0.000000
2019-02-18 23:31:49.010000+00:00    0.062791
2019-02-18 23:31:49.020000+00:00    0.125333
2019-02-18 23:31:49.030000+00:00    0.187381
2019-02-18 23:31:49.040000+00:00    0.248690
                                      ...
2019-02-18 23:31:58.949991+00:00   -0.309017
2019-02-18 23:31:58.959991+00:00   -0.248690
2019-02-18 23:31:58.969990+00:00   -0.187381
2019-02-18 23:31:58.979990+00:00   -0.125333
2019-02-18 23:31:58.989990+00:00   -0.062791
Name: demo_signal, Length: 1000, dtype: float64
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../../_images/web_ja_user_guide_tutorials_intro_interop_8_2.png" src="../../../../_images/web_ja_user_guide_tutorials_intro_interop_8_2.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

--- Restored TimeSeries from Pandas ---
TimeSeries([ 0.        ,  0.06279052,  0.12533323, ...,
            -0.18738131, -0.12533323, -0.06279052]
           unit: V,
           t0: 1234567927.0 s,
           dt: 0.009999990463256836 s,
           name: demo_signal,
           channel: None)
</pre></div></div>
</div>
</section>
<section id="1.3.-Polars-[GWExPy-New]">
<h3>1.3. Polars [GWExPy New]<a class="headerlink" href="#1.3.-Polars-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>Polars</strong>: Polars ã¯ Rust ã§å®Ÿè£…ã•ã‚ŒãŸé«˜é€Ÿãª DataFrame ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€å¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿ã®é«˜é€Ÿå‡¦ç†ã«å„ªã‚Œã¦ã„ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://pola.rs/">Polars Documentation</a></p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">to_polars()</span></code> ã§ Polars DataFrame/Series ã«å¤‰æ›ã§ãã¾ã™ã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">polars</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pl</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">pl</span>
    <span class="c1"># TimeSeries -&gt; Polars DataFrame</span>
    <span class="n">df_pl</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_polars</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--- Polars DataFrame ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">df_pl</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

    <span class="c1"># Plot using Polars/Matplotlib</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
    <span class="n">data_col</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">df_pl</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="n">c</span> <span class="o">!=</span> <span class="s2">&quot;time&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_pl</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">],</span> <span class="n">df_pl</span><span class="p">[</span><span class="n">data_col</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Polars Data Plot&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="c1"># Recover to TimeSeries</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.timeseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">TimeSeries</span>

    <span class="n">ts_recovered</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_polars</span><span class="p">(</span><span class="n">df_pl</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recovered from Polars:&quot;</span><span class="p">,</span> <span class="n">ts_recovered</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">df_pl</span><span class="p">,</span> <span class="n">ts_recovered</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Polars not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
--- Polars DataFrame ---
shape: (5, 2)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ time                       â”† demo_signal â”‚
â”‚ ---                        â”† ---         â”‚
â”‚ object                     â”† f64         â”‚
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•¡
â”‚ 2019-02-18 23:31:12        â”† 0.0         â”‚
â”‚ 2019-02-18 23:31:12.010000 â”† 0.062791    â”‚
â”‚ 2019-02-18 23:31:12.020000 â”† 0.125333    â”‚
â”‚ 2019-02-18 23:31:12.030000 â”† 0.187381    â”‚
â”‚ 2019-02-18 23:31:12.040000 â”† 0.24869     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../../_images/web_ja_user_guide_tutorials_intro_interop_10_1.png" src="../../../../_images/web_ja_user_guide_tutorials_intro_interop_10_1.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Recovered from Polars: TimeSeries([ 0.        ,  0.06279052,  0.12533323, ...,
            -0.18738131, -0.12533323, -0.06279052]
           unit: dimensionless,
           t0: 1234567890.0 s,
           dt: None,
           name: demo_signal,
           channel: None)
</pre></div></div>
</div>
</section>
<section id="1.4.-Xarray-ã¨ã®é€£æº-[Original-GWpy]">
<h3>1.4. Xarray ã¨ã®é€£æº [Original GWpy]<a class="headerlink" href="#1.4.-Xarray-ã¨ã®é€£æº-[Original-GWpy]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>xarray</strong>: xarray ã¯å¤šæ¬¡å…ƒãƒ©ãƒ™ãƒ«ä»˜ãé…åˆ—ã®ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€NetCDF ãƒ‡ãƒ¼ã‚¿ã®æ“ä½œã‚„æ°—è±¡ãƒ»åœ°çƒç§‘å­¦ãƒ‡ãƒ¼ã‚¿ã®è§£æã«åºƒãä½¿ç”¨ã•ã‚Œã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://docs.xarray.dev/">xarray Documentation</a></p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">xarray</span></code> ã¯å¤šæ¬¡å…ƒã®ãƒ©ãƒ™ãƒ«ä»˜ãé…åˆ—ã‚’æ‰±ã†å¼·åŠ›ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚<code class="docutils literal notranslate"><span class="pre">to_xarray()</span></code> ã§ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’ä¿æŒã—ãŸã¾ã¾å¤‰æ›ã§ãã¾ã™ã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="c1"># Xarray DataArray ã¸ã®å¤‰æ›</span>
    <span class="n">da</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_xarray</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">--- Converted to Xarray DataArray ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">da</span><span class="p">)</span>
    <span class="c1"># ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ (attrs) ãŒä¿æŒã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Attributes:&quot;</span><span class="p">,</span> <span class="n">da</span><span class="o">.</span><span class="n">attrs</span><span class="p">)</span>

    <span class="n">da</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Xarray DataArray&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="c1"># å¾©å…ƒ</span>
    <span class="n">ts_x</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_xarray</span><span class="p">(</span><span class="n">da</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">--- Restored TimeSeries from Xarray ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">ts_x</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">da</span><span class="p">,</span> <span class="n">ts_x</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Xarray is not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

--- Converted to Xarray DataArray ---
&lt;xarray.DataArray &#39;demo_signal&#39; (time: 1000)&gt; Size: 8kB
array([ 0.        ,  0.06279052,  0.12533323, ..., -0.18738131,
       -0.12533323, -0.06279052], shape=(1000,))
Coordinates:
  * time     (time) datetime64[us] 8kB 2019-02-18T23:31:49 ... 2019-02-18T23:...
Attributes:
    unit:        V
    name:        demo_signal
    channel:     None
    epoch:       1234567890.0
    time_coord:  datetime
Attributes: {&#39;unit&#39;: &#39;V&#39;, &#39;name&#39;: &#39;demo_signal&#39;, &#39;channel&#39;: &#39;None&#39;, &#39;epoch&#39;: 1234567890.0, &#39;time_coord&#39;: &#39;datetime&#39;}
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../../_images/web_ja_user_guide_tutorials_intro_interop_12_1.png" src="../../../../_images/web_ja_user_guide_tutorials_intro_interop_12_1.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

--- Restored TimeSeries from Xarray ---
TimeSeries([ 0.        ,  0.06279052,  0.12533323, ...,
            -0.18738131, -0.12533323, -0.06279052]
           unit: V,
           t0: 1234567927.0 s,
           dt: 0.009999990463256836 s,
           name: demo_signal,
           channel: None)
</pre></div></div>
</div>
</section>
<section id="1.5.-Dask-ã¨ã®é€£æº-[GWExPy-New]">
<h3>1.5. Dask ã¨ã®é€£æº [GWExPy New]<a class="headerlink" href="#1.5.-Dask-ã¨ã®é€£æº-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>Dask</strong>: Dask ã¯ä¸¦åˆ—è¨ˆç®—ã®ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€NumPy/Pandas ã‚’è¶…ãˆã‚‹å¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿ã®å‡¦ç†ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://www.dask.org/">Dask Documentation</a></p>
</div></blockquote>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">dask.array</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">da</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">da</span>
    <span class="c1"># Dask Array ã¸ã®å¤‰æ›</span>
    <span class="n">dask_arr</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_dask</span><span class="p">(</span><span class="n">chunks</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">--- Converted to Dask Array ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">dask_arr</span><span class="p">)</span>

    <span class="c1"># æˆ»ã™ (compute=True ã§å³åº§ã«ãƒ­ãƒ¼ãƒ‰)</span>
    <span class="n">ts_from_dask</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_dask</span><span class="p">(</span><span class="n">dask_arr</span><span class="p">,</span> <span class="n">t0</span><span class="o">=</span><span class="n">ts</span><span class="o">.</span><span class="n">t0</span><span class="p">,</span> <span class="n">dt</span><span class="o">=</span><span class="n">ts</span><span class="o">.</span><span class="n">dt</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="n">ts</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recovered from Dask:&quot;</span><span class="p">,</span> <span class="n">ts_from_dask</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">dask_arr</span><span class="p">,</span> <span class="n">ts_from_dask</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Dask not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

--- Converted to Dask Array ---
dask.array&lt;array, shape=(1000,), dtype=float64, chunksize=(1000,), chunktype=numpy.ndarray&gt;
Recovered from Dask: TimeSeries([ 0.        ,  0.06279052,  0.12533323, ...,
            -0.18738131, -0.12533323, -0.06279052]
           unit: V,
           t0: 1234567890.0 1 / Hz,
           dt: 0.01 1 / Hz,
           name: None,
           channel: None)
</pre></div></div>
</div>
</section>
<section id="1.6.-JSON-/-Python-Dict-(to_json)-[GWExPy-New]">
<h3>1.6. JSON / Python Dict (to_json) [GWExPy New]<a class="headerlink" href="#1.6.-JSON-/-Python-Dict-(to_json)-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>JSON</strong>: JSON (JavaScript Object Notation) ã¯è»½é‡ãªãƒ‡ãƒ¼ã‚¿äº¤æ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ã€Python æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://docs.python.org/3/library/json.html">JSON Documentation</a></p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">to_json()</span></code> ã‚„ <code class="docutils literal notranslate"><span class="pre">to_dict()</span></code> ã§ JSON äº’æ›ã®è¾æ›¸å½¢å¼ã‚’å‡ºåŠ›ã§ãã¾ã™ã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">json</span>

<span class="c1"># TimeSeries -&gt; JSON string</span>
<span class="n">ts_json</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_json</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--- JSON Representation (Partial) ---&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ts_json</span><span class="p">[:</span><span class="mi">500</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;...&quot;</span><span class="p">)</span>

<span class="c1"># Plot data by loading back from JSON</span>
<span class="n">ts_dict_temp</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">ts_json</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ts_dict_temp</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Plot from JSON Data&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Recover from JSON</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.timeseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">TimeSeries</span>

<span class="n">ts_recovered</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">ts_json</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recovered from JSON:&quot;</span><span class="p">,</span> <span class="n">ts_recovered</span><span class="p">)</span>

<span class="k">del</span> <span class="n">ts_json</span><span class="p">,</span> <span class="n">ts_dict_temp</span><span class="p">,</span> <span class="n">ts_recovered</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
--- JSON Representation (Partial) ---
{
  &#34;t0&#34;: 1234567890.0,
  &#34;dt&#34;: 0.01,
  &#34;unit&#34;: &#34;V&#34;,
  &#34;name&#34;: &#34;demo_signal&#34;,
  &#34;data&#34;: [
    0.0,
    0.06279051952931337,
    0.12533323356430426,
    0.1873813145857246,
    0.2486898871648548,
    0.3090169943749474,
    0.3681245526846779,
    0.4257792915650727,
    0.4817536741017153,
    0.5358267949789967,
    0.5877852522924731,
    0.6374239897486896,
    0.6845471059286886,
    0.7289686274214116,
    0.7705132427757893,
    0.8090169943749475,
    0.8443279255020151,
    0.876306680...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../../_images/web_ja_user_guide_tutorials_intro_interop_16_1.png" src="../../../../_images/web_ja_user_guide_tutorials_intro_interop_16_1.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Recovered from JSON: TimeSeries([ 0.        ,  0.06279052,  0.12533323, ...,
            -0.18738131, -0.12533323, -0.06279052]
           unit: V,
           t0: 1234567890.0 s,
           dt: 0.01 s,
           name: demo_signal,
           channel: None)
</pre></div></div>
</div>
</section>
</section>
<section id="2.-ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ»ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å±¤">
<h2>2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ»ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å±¤<a class="headerlink" href="#2.-ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ»ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å±¤" title="Link to this heading">ïƒ</a></h2>
<section id="2.1.-HDF5-[Original-GWpy]">
<h3>2.1. HDF5 [Original GWpy]<a class="headerlink" href="#2.1.-HDF5-[Original-GWpy]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>HDF5</strong>: HDF5 ã¯å¤§è¦æ¨¡ãªç§‘å­¦ãƒ‡ãƒ¼ã‚¿ã‚’åŠ¹ç‡çš„ã«ä¿å­˜ãƒ»ç®¡ç†ã™ã‚‹ãŸã‚ã®éšå±¤å‹ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ã™ã€‚h5py ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ Python ã‹ã‚‰åˆ©ç”¨ã§ãã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://www.h5py.org/">HDF5 Documentation</a></p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">to_hdf5_dataset()</span></code> ã§ HDF5 ã¸ã®ä¿å­˜ã‚’ã‚µãƒãƒ¼ãƒˆã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">tempfile</span>

    <span class="kn">import</span><span class="w"> </span><span class="nn">h5py</span>

    <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">NamedTemporaryFile</span><span class="p">(</span><span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;.h5&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">tmp</span><span class="p">:</span>
        <span class="c1"># TimeSeries -&gt; HDF5</span>
        <span class="k">with</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="n">tmp</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">ts</span><span class="o">.</span><span class="n">to_hdf5_dataset</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s2">&quot;dataset_01&quot;</span><span class="p">)</span>

        <span class="c1"># Read back and display</span>
        <span class="k">with</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="n">tmp</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">ds</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s2">&quot;dataset_01&quot;</span><span class="p">]</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--- HDF5 Dataset Info ---&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Shape: </span><span class="si">{</span><span class="n">ds</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2">, Dtype: </span><span class="si">{</span><span class="n">ds</span><span class="o">.</span><span class="n">dtype</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Attributes:&quot;</span><span class="p">,</span> <span class="nb">dict</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">attrs</span><span class="p">))</span>

            <span class="c1"># Recover</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.timeseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">TimeSeries</span>

            <span class="n">ts_recovered</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_hdf5_dataset</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s2">&quot;dataset_01&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recovered from HDF5:&quot;</span><span class="p">,</span> <span class="n">ts_recovered</span><span class="p">)</span>

            <span class="n">ts_recovered</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Recovered from HDF5&quot;</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

            <span class="k">del</span> <span class="n">ds</span><span class="p">,</span> <span class="n">ts_recovered</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;h5py not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
--- HDF5 Dataset Info ---
Shape: (1000,), Dtype: float64
Attributes: {&#39;dt&#39;: np.float64(0.01), &#39;name&#39;: &#39;demo_signal&#39;, &#39;t0&#39;: np.float64(1234567890.0), &#39;unit&#39;: &#39;V&#39;}
Recovered from HDF5: TimeSeries([ 0.        ,  0.06279052,  0.12533323, ...,
            -0.18738131, -0.12533323, -0.06279052]
           unit: V,
           t0: 1234567890.0 s,
           dt: 0.01 s,
           name: demo_signal,
           channel: None)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../../_images/web_ja_user_guide_tutorials_intro_interop_19_1.png" src="../../../../_images/web_ja_user_guide_tutorials_intro_interop_19_1.png" />
</div>
</div>
</section>
<section id="2.2.-SQLite-[GWExPy-New]">
<h3>2.2. SQLite [GWExPy New]<a class="headerlink" href="#2.2.-SQLite-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>SQLite</strong>: SQLite ã¯è»½é‡ãªçµ„ã¿è¾¼ã¿å‹ SQL ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¨ãƒ³ã‚¸ãƒ³ã§ã€Python æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«å«ã¾ã‚Œã¦ã„ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://docs.python.org/3/library/sqlite3.html">SQLite Documentation</a></p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">to_sqlite()</span></code> ã§ DB æ°¸ç¶šåŒ–ã‚’ã‚µãƒãƒ¼ãƒˆã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">sqlite3</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;:memory:&quot;</span><span class="p">)</span>

<span class="c1"># TimeSeries -&gt; SQLite</span>
<span class="n">series_id</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_sqlite</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span> <span class="n">series_id</span><span class="o">=</span><span class="s2">&quot;test_series&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Saved to SQLite with ID: </span><span class="si">{</span><span class="n">series_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Verify data in SQL</span>
<span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
<span class="n">row</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM series WHERE series_id=?&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">series_id</span><span class="p">,))</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Metadata from SQL:&quot;</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span>

<span class="c1"># Recover</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.timeseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">TimeSeries</span>

<span class="n">ts_recovered</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_sqlite</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span> <span class="n">series_id</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recovered from SQLite:&quot;</span><span class="p">,</span> <span class="n">ts_recovered</span><span class="p">)</span>

<span class="n">ts_recovered</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Recovered from SQLite&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="k">del</span> <span class="n">series_id</span><span class="p">,</span> <span class="n">conn</span><span class="p">,</span> <span class="n">cursor</span><span class="p">,</span> <span class="n">ts_recovered</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Saved to SQLite with ID: test_series
Metadata from SQL: (&#39;test_series&#39;, &#39;&#39;, &#39;V&#39;, 1234567890.0, 0.01, 1000, &#39;{&#34;name&#34;: &#34;demo_signal&#34;}&#39;)
Recovered from SQLite: TimeSeries([ 0.        ,  0.06279052,  0.12533323, ...,
            -0.18738131, -0.12533323, -0.06279052]
           unit: V,
           t0: 1234567890.0 s,
           dt: 0.01 s,
           name: test_series,
           channel: None)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../../_images/web_ja_user_guide_tutorials_intro_interop_21_1.png" src="../../../../_images/web_ja_user_guide_tutorials_intro_interop_21_1.png" />
</div>
</div>
</section>
<section id="2.3.-Zarr-[GWExPy-New]">
<h3>2.3. Zarr [GWExPy New]<a class="headerlink" href="#2.3.-Zarr-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>Zarr</strong>: Zarr ã¯ãƒãƒ£ãƒ³ã‚¯åŒ–ãƒ»åœ§ç¸®ã•ã‚ŒãŸå¤šæ¬¡å…ƒé…åˆ—ã®ãŸã‚ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ã€ã‚¯ãƒ©ã‚¦ãƒ‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã¨ã®é€£æºã«å„ªã‚Œã¦ã„ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://zarr.dev/">Zarr Documentation</a></p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">to_zarr()</span></code> ã§ã‚¯ãƒ©ã‚¦ãƒ‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å‘ãå½¢å¼ã«å¯¾å¿œã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">tempfile</span>

    <span class="kn">import</span><span class="w"> </span><span class="nn">zarr</span>

    <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">TemporaryDirectory</span><span class="p">()</span> <span class="k">as</span> <span class="n">tmpdir</span><span class="p">:</span>
        <span class="n">store_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tmpdir</span><span class="p">,</span> <span class="s2">&quot;test.zarr&quot;</span><span class="p">)</span>
        <span class="c1"># TimeSeries -&gt; Zarr</span>
        <span class="n">ts</span><span class="o">.</span><span class="n">to_zarr</span><span class="p">(</span><span class="n">store_path</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;timeseries&quot;</span><span class="p">)</span>

        <span class="c1"># Read back</span>
        <span class="n">z</span> <span class="o">=</span> <span class="n">zarr</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">store_path</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;r&quot;</span><span class="p">)</span>
        <span class="n">ds</span> <span class="o">=</span> <span class="n">z</span><span class="p">[</span><span class="s2">&quot;timeseries&quot;</span><span class="p">]</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--- Zarr Array Info ---&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">info</span><span class="p">)</span>

        <span class="c1"># Recover</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.timeseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">TimeSeries</span>

        <span class="n">ts_recovered</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_zarr</span><span class="p">(</span><span class="n">store_path</span><span class="p">,</span> <span class="s2">&quot;timeseries&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recovered from Zarr:&quot;</span><span class="p">,</span> <span class="n">ts_recovered</span><span class="p">)</span>

        <span class="n">ts_recovered</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Recovered from Zarr&quot;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

        <span class="k">del</span> <span class="n">z</span><span class="p">,</span> <span class="n">ds</span><span class="p">,</span> <span class="n">ts_recovered</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;zarr not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
--- Zarr Array Info ---
Type               : Array
Zarr format        : 3
Data type          : Float64(endianness=&#39;little&#39;)
Fill value         : 0.0
Shape              : (1000,)
Chunk shape        : (1000,)
Order              : C
Read-only          : True
Store type         : LocalStore
Filters            : ()
Serializer         : BytesCodec(endian=&lt;Endian.little: &#39;little&#39;&gt;)
Compressors        : (ZstdCodec(level=0, checksum=False),)
No. bytes          : 8000 (7.8K)
Recovered from Zarr: TimeSeries([ 0.        ,  0.06279052,  0.12533323, ...,
            -0.18738131, -0.12533323, -0.06279052]
           unit: V,
           t0: 1234567890.0 s,
           dt: 0.01 s,
           name: demo_signal,
           channel: None)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../../_images/web_ja_user_guide_tutorials_intro_interop_23_1.png" src="../../../../_images/web_ja_user_guide_tutorials_intro_interop_23_1.png" />
</div>
</div>
</section>
<section id="2.4.-netCDF4-[GWExPy-New]">
<h3>2.4. netCDF4 [GWExPy New]<a class="headerlink" href="#2.4.-netCDF4-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>netCDF4</strong>: netCDF4 ã¯æ°—è±¡ãƒ»æµ·æ´‹ãƒ»åœ°çƒç§‘å­¦ãƒ‡ãƒ¼ã‚¿ã®æ¨™æº–ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ã€è‡ªå·±è¨˜è¿°çš„ãªãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’æŒã¡ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://unidata.github.io/netcdf4-python/">netCDF4 Documentation</a></p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">to_netcdf4()</span></code> ã§æ°—è±¡ãƒ»æµ·æ´‹ãƒ‡ãƒ¼ã‚¿ã®æ¨™æº–ã«å¯¾å¿œã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">tempfile</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>

    <span class="kn">import</span><span class="w"> </span><span class="nn">netCDF4</span>

    <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">TemporaryDirectory</span><span class="p">()</span> <span class="k">as</span> <span class="n">tmpdir</span><span class="p">:</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">tmpdir</span><span class="p">)</span> <span class="o">/</span> <span class="s2">&quot;gwexpy_timeseries.nc&quot;</span>

        <span class="c1"># TimeSeries -&gt; netCDF4</span>
        <span class="k">with</span> <span class="n">netCDF4</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;NETCDF3_CLASSIC&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">ds</span><span class="p">:</span>
            <span class="n">ts</span><span class="o">.</span><span class="n">to_netcdf4</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s2">&quot;my_signal&quot;</span><span class="p">)</span>

        <span class="c1"># Read back</span>
        <span class="k">with</span> <span class="n">netCDF4</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">ds</span><span class="p">:</span>
            <span class="n">v</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">variables</span><span class="p">[</span><span class="s2">&quot;my_signal&quot;</span><span class="p">]</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--- netCDF4 Variable Info ---&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

            <span class="c1"># Recover</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.timeseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">TimeSeries</span>

            <span class="n">ts_recovered</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_netcdf4</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s2">&quot;my_signal&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recovered from netCDF4:&quot;</span><span class="p">,</span> <span class="n">ts_recovered</span><span class="p">)</span>

            <span class="n">ts_recovered</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Recovered from netCDF4&quot;</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

            <span class="k">del</span> <span class="n">v</span><span class="p">,</span> <span class="n">ts_recovered</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;netCDF4 not installed.&quot;</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
--- netCDF4 Variable Info ---
&lt;class &#39;netCDF4.Variable&#39;&gt;
float64 my_signal(time)
    t0: 1234567890.0
    dt: 0.01
    units: V
    long_name: demo_signal
unlimited dimensions:
current shape = (1000,)
filling on, default _FillValue of 9.969209968386869e+36 used
Recovered from netCDF4: TimeSeries([ 0.        ,  0.06279052,  0.12533323, ...,
            -0.18738131, -0.12533323, -0.06279052]
           unit: V,
           t0: 1234567890.0 s,
           dt: 0.01 s,
           name: demo_signal,
           channel: None)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../../_images/web_ja_user_guide_tutorials_intro_interop_25_1.png" src="../../../../_images/web_ja_user_guide_tutorials_intro_interop_25_1.png" />
</div>
</div>
</section>
</section>
<section id="3.-æƒ…å ±ç§‘å­¦ãƒ»æ©Ÿæ¢°å­¦ç¿’ãƒ»åŠ é€Ÿè¨ˆç®—">
<h2>3. æƒ…å ±ç§‘å­¦ãƒ»æ©Ÿæ¢°å­¦ç¿’ãƒ»åŠ é€Ÿè¨ˆç®—<a class="headerlink" href="#3.-æƒ…å ±ç§‘å­¦ãƒ»æ©Ÿæ¢°å­¦ç¿’ãƒ»åŠ é€Ÿè¨ˆç®—" title="Link to this heading">ïƒ</a></h2>
<section id="3.1.-PyTorch-ã¨ã®é€£æº-[GWExPy-New]">
<h3>3.1. PyTorch ã¨ã®é€£æº [GWExPy New]<a class="headerlink" href="#3.1.-PyTorch-ã¨ã®é€£æº-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>PyTorch</strong>: PyTorch ã¯æ·±å±¤å­¦ç¿’ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã€å‹•çš„è¨ˆç®—ã‚°ãƒ©ãƒ•ã¨ GPU åŠ é€Ÿã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://pytorch.org/">PyTorch Documentation</a></p>
</div></blockquote>
<p>ãƒ‡ã‚£ãƒ¼ãƒ—ãƒ©ãƒ¼ãƒ‹ãƒ³ã‚°ã®å‰å‡¦ç†ã¨ã—ã¦ã€<code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code> ã‚’ç›´æ¥ <code class="docutils literal notranslate"><span class="pre">torch.Tensor</span></code> ã«å¤‰æ›ã§ãã¾ã™ã€‚GPUè»¢é€ã‚‚å¯èƒ½ã§ã™ã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;TF_CPP_MIN_LOG_LEVEL&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">torch</span>

    <span class="c1"># PyTorch Tensor ã¸ã®å¤‰æ›</span>
    <span class="n">tensor</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_torch</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="n">torch</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">--- Converted to PyTorch Tensor ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tensor shape: </span><span class="si">{</span><span class="n">tensor</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2">, dtype: </span><span class="si">{</span><span class="n">tensor</span><span class="o">.</span><span class="n">dtype</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Tensor ã‹ã‚‰ã®å¾©å…ƒ (t0, dt ã¯åˆ¥é€”æŒ‡å®šãŒå¿…è¦)</span>
    <span class="n">ts_torch</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_torch</span><span class="p">(</span><span class="n">tensor</span><span class="p">,</span> <span class="n">t0</span><span class="o">=</span><span class="n">ts</span><span class="o">.</span><span class="n">t0</span><span class="p">,</span> <span class="n">dt</span><span class="o">=</span><span class="n">ts</span><span class="o">.</span><span class="n">dt</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;V&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">--- Restored from Torch ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">ts_torch</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">tensor</span><span class="p">,</span> <span class="n">ts_torch</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;PyTorch is not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

--- Converted to PyTorch Tensor ---
Tensor shape: torch.Size([1000]), dtype: torch.float32

--- Restored from Torch ---
TimeSeries([ 0.        ,  0.06279052,  0.12533323, ...,
            -0.18738131, -0.12533323, -0.06279052]
           unit: V,
           t0: 1234567890.0 1 / Hz,
           dt: 0.01 1 / Hz,
           name: None,
           channel: None)
</pre></div></div>
</div>
</section>
<section id="3.2.-CuPy-(CUDA-åŠ é€Ÿ)-[GWExPy-New]">
<h3>3.2. CuPy (CUDA åŠ é€Ÿ) [GWExPy New]<a class="headerlink" href="#3.2.-CuPy-(CUDA-åŠ é€Ÿ)-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>CuPy</strong>: CuPy ã¯ NumPy äº’æ›ã® GPU é…åˆ—ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€NVIDIA CUDA ã‚’ä½¿ç”¨ã—ãŸé«˜é€Ÿè¨ˆç®—ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://cupy.dev/">CuPy Documentation</a></p>
</div></blockquote>
<p>GPU ä¸Šã§ã®è¨ˆç®—ã‚’å¯èƒ½ã«ã™ã‚‹ CuPy é…åˆ—ã¸å¤‰æ›ã§ãã¾ã™ã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.interop</span><span class="w"> </span><span class="kn">import</span> <span class="n">is_cupy_available</span>

<span class="k">if</span> <span class="n">is_cupy_available</span><span class="p">():</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">cupy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">cp</span>

    <span class="c1"># TimeSeries -&gt; CuPy</span>
    <span class="n">y_gpu</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_cupy</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--- CuPy Array (on GPU) ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">y_gpu</span><span class="p">)</span>

    <span class="c1"># Simple processing on GPU</span>
    <span class="n">y_gpu_filt</span> <span class="o">=</span> <span class="n">y_gpu</span> <span class="o">*</span> <span class="mf">2.0</span>

    <span class="c1"># Plot (must move to CPU for plotting)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cp</span><span class="o">.</span><span class="n">asnumpy</span><span class="p">(</span><span class="n">y_gpu_filt</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;CuPy Data (Moved to CPU for plot)&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="c1"># Recover</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.timeseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">TimeSeries</span>

    <span class="n">ts_recovered</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_cupy</span><span class="p">(</span><span class="n">y_gpu_filt</span><span class="p">,</span> <span class="n">t0</span><span class="o">=</span><span class="n">ts</span><span class="o">.</span><span class="n">t0</span><span class="p">,</span> <span class="n">dt</span><span class="o">=</span><span class="n">ts</span><span class="o">.</span><span class="n">dt</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recovered from CuPy:&quot;</span><span class="p">,</span> <span class="n">ts_recovered</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">y_gpu</span><span class="p">,</span> <span class="n">y_gpu_filt</span><span class="p">,</span> <span class="n">ts_recovered</span>

<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CuPy or CUDA driver not available.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
CuPy or CUDA driver not available.
</pre></div></div>
</div>
</section>
<section id="3.3.-TensorFlow-ã¨ã®é€£æº-[GWExPy-New]">
<h3>3.3. TensorFlow ã¨ã®é€£æº [GWExPy New]<a class="headerlink" href="#3.3.-TensorFlow-ã¨ã®é€£æº-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>TensorFlow</strong>: TensorFlow ã¯ Google ãŒé–‹ç™ºã—ãŸæ©Ÿæ¢°å­¦ç¿’ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã€å¤§è¦æ¨¡ãªæœ¬ç•ªç’°å¢ƒã§ã®åˆ©ç”¨ã«å„ªã‚Œã¦ã„ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://www.tensorflow.org/">TensorFlow Documentation</a></p>
</div></blockquote>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">warnings</span>

    <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;TF_CPP_MIN_LOG_LEVEL&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">)</span>
    <span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span>
        <span class="s2">&quot;ignore&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="ne">UserWarning</span><span class="p">,</span> <span class="n">module</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;google\.protobuf\..*&quot;</span>
    <span class="p">)</span>
    <span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span>
        <span class="s2">&quot;ignore&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="ne">UserWarning</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;Protobuf gencode version.*&quot;</span>
    <span class="p">)</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">tensorflow</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">tf</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">tf</span>
    <span class="c1"># TensorFlow Tensor ã¸ã®å¤‰æ›</span>
    <span class="n">tf_tensor</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_tensorflow</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">--- Converted to TensorFlow Tensor ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tensor shape: </span><span class="si">{</span><span class="n">tf_tensor</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tensor dtype: </span><span class="si">{</span><span class="n">tf_tensor</span><span class="o">.</span><span class="n">dtype</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># æˆ»ã™</span>
    <span class="n">ts_from_tensorflow</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_tensorflow</span><span class="p">(</span>
        <span class="n">tf_tensor</span><span class="p">,</span> <span class="n">t0</span><span class="o">=</span><span class="n">ts</span><span class="o">.</span><span class="n">t0</span><span class="p">,</span> <span class="n">dt</span><span class="o">=</span><span class="n">ts</span><span class="o">.</span><span class="n">dt</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="n">ts</span><span class="o">.</span><span class="n">unit</span>
    <span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recovered from TF:&quot;</span><span class="p">,</span> <span class="n">ts_from_tensorflow</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">tf_tensor</span><span class="p">,</span> <span class="n">ts_from_tensorflow</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="k">pass</span>
</pre></div>
</div>
</div>
</section>
<section id="3.4.-JAX-ã¨ã®é€£æº-[GWExPy-New]">
<h3>3.4. JAX ã¨ã®é€£æº [GWExPy New]<a class="headerlink" href="#3.4.-JAX-ã¨ã®é€£æº-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>JAX</strong>: JAX ã¯ Google ãŒé–‹ç™ºã—ãŸé«˜æ€§èƒ½æ•°å€¤è¨ˆç®—ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€è‡ªå‹•å¾®åˆ†ã¨ XLA ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã«ã‚ˆã‚‹é«˜é€ŸåŒ–ãŒç‰¹å¾´ã§ã™ã€‚ ğŸ“š <a class="reference external" href="https://jax.readthedocs.io/">JAX Documentation</a></p>
</div></blockquote>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

    <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;XLA_PYTHON_CLIENT_PREALLOCATE&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;false&quot;</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">jax</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">jax</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">jax.numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">jnp</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">jnp</span>
    <span class="c1"># JAX Array ã¸ã®å¤‰æ›</span>
    <span class="n">jax_arr</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_jax</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">--- Converted to JAX Array ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Array shape: </span><span class="si">{</span><span class="n">jax_arr</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># æˆ»ã™</span>
    <span class="n">ts_from_jax</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_jax</span><span class="p">(</span><span class="n">jax_arr</span><span class="p">,</span> <span class="n">t0</span><span class="o">=</span><span class="n">ts</span><span class="o">.</span><span class="n">t0</span><span class="p">,</span> <span class="n">dt</span><span class="o">=</span><span class="n">ts</span><span class="o">.</span><span class="n">dt</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="n">ts</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recovered from JAX:&quot;</span><span class="p">,</span> <span class="n">ts_from_jax</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">jax_arr</span><span class="p">,</span> <span class="n">ts_from_jax</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;JAX not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

--- Converted to JAX Array ---
Array shape: (1000,)
Recovered from JAX: TimeSeries([ 0.        ,  0.06279052,  0.12533323, ...,
            -0.18738131, -0.12533323, -0.06279052]
           unit: V,
           t0: 1234567890.0 1 / Hz,
           dt: 0.01 1 / Hz,
           name: None,
           channel: None)
</pre></div></div>
</div>
</section>
</section>
<section id="4.-å¤©æ–‡å­¦ãƒ»é‡åŠ›æ³¢ç‰©ç†å­¦">
<h2>4. å¤©æ–‡å­¦ãƒ»é‡åŠ›æ³¢ç‰©ç†å­¦<a class="headerlink" href="#4.-å¤©æ–‡å­¦ãƒ»é‡åŠ›æ³¢ç‰©ç†å­¦" title="Link to this heading">ïƒ</a></h2>
<section id="4.1.-PyCBC-/-LAL-[Original-GWpy]">
<h3>4.1. PyCBC / LAL [Original GWpy]<a class="headerlink" href="#4.1.-PyCBC-/-LAL-[Original-GWpy]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>LAL</strong>: LAL (LIGO Algorithm Library) ã¯ LIGO/Virgo ã®å…¬å¼è§£æãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€é‡åŠ›æ³¢è§£æã®åŸºç›¤ã‚’æä¾›ã—ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://lscsoft.docs.ligo.org/lalsuite/">LAL Documentation</a></p>
</div></blockquote>
<blockquote>
<div><p><strong>PyCBC</strong>: PyCBC ã¯é‡åŠ›æ³¢ãƒ‡ãƒ¼ã‚¿è§£æã®ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€ä¿¡å·æ¢ç´¢ã‚„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ¨å®šã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://pycbc.org/">PyCBC Documentation</a></p>
</div></blockquote>
<p>é‡åŠ›æ³¢è§£æã®æ¨™æº–ãƒ„ãƒ¼ãƒ«ã¨ã®äº’æ›æ€§ã‚’å‚™ãˆã¦ã„ã¾ã™ã€‚</p>
</section>
<section id="4.2.-Astropy-ã¨ã®é€£æº-[Original-GWpy]">
<h3>4.2. Astropy ã¨ã®é€£æº [Original GWpy]<a class="headerlink" href="#4.2.-Astropy-ã¨ã®é€£æº-[Original-GWpy]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>Astropy</strong>: Astropy ã¯å¤©æ–‡å­¦ã®ãŸã‚ã® Python ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€åº§æ¨™å¤‰æ›ã€æ™‚é–“ç³»å¤‰æ›ã€å˜ä½ç³»ãªã©ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://www.astropy.org/">Astropy Documentation</a></p>
</div></blockquote>
<p>å¤©æ–‡å­¦åˆ†é‡ã§æ¨™æº–çš„ãª <code class="docutils literal notranslate"><span class="pre">astropy.timeseries.TimeSeries</span></code> ã¨ã®ç›¸äº’å¤‰æ›ã‚‚ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="c1"># Astropy TimeSeries ã¸ã®å¤‰æ›</span>
    <span class="n">ap_ts</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_astropy_timeseries</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">--- Converted to Astropy TimeSeries ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">ap_ts</span><span class="p">[:</span><span class="mi">5</span><span class="p">])</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ap_ts</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">jd</span><span class="p">,</span> <span class="n">ap_ts</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Astropy TimeSeries&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="c1"># å¾©å…ƒ</span>
    <span class="n">ts_astro</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_astropy_timeseries</span><span class="p">(</span><span class="n">ap_ts</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">--- Restored from Astropy ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">ts_astro</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">ap_ts</span><span class="p">,</span> <span class="n">ts_astro</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Astropy is not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

--- Converted to Astropy TimeSeries ---
     time            value
------------- -------------------
 1234567890.0                 0.0
1234567890.01 0.06279051952931337
1234567890.02 0.12533323356430426
1234567890.03  0.1873813145857246
1234567890.04  0.2486898871648548
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../../_images/web_ja_user_guide_tutorials_intro_interop_38_1.png" src="../../../../_images/web_ja_user_guide_tutorials_intro_interop_38_1.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

--- Restored from Astropy ---
TimeSeries([ 0.        ,  0.06279052,  0.12533323, ...,
            -0.18738131, -0.12533323, -0.06279052]
           unit: dimensionless,
           t0: 1234567890.0 s,
           dt: 0.009999990463256836 s,
           name: None,
           channel: None)
</pre></div></div>
</div>
</section>
<section id="4.3.-Specutils-ã¨ã®é€£æº-[GWExPy-New]">
<h3>4.3. Specutils ã¨ã®é€£æº [GWExPy New]<a class="headerlink" href="#4.3.-Specutils-ã¨ã®é€£æº-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>specutils</strong>: specutils ã¯å¤©æ–‡ã‚¹ãƒšã‚¯ãƒˆãƒ«ãƒ‡ãƒ¼ã‚¿ã®æ“ä½œãƒ»è§£æã®ãŸã‚ã® Astropy é–¢é€£ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã™ã€‚ ğŸ“š <a class="reference external" href="https://specutils.readthedocs.io/">specutils Documentation</a></p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">FrequencySeries</span></code> ã¯ã€Astropy ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®ã‚¹ãƒšã‚¯ãƒˆãƒ«è§£æãƒ©ã‚¤ãƒ–ãƒ©ãƒª <code class="docutils literal notranslate"><span class="pre">specutils</span></code> ã® <code class="docutils literal notranslate"><span class="pre">Spectrum1D</span></code> ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ç›¸äº’å¤‰æ›å¯èƒ½ã§ã™ã€‚ å˜ä½ (Units) ã‚„å‘¨æ³¢æ•°è»¸ãŒé©åˆ‡ã«ä¿æŒã•ã‚Œã¾ã™ã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">specutils</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">specutils</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.frequencyseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">FrequencySeries</span>

    <span class="c1"># FrequencySeries -&gt; specutils.Spectrum1D</span>
    <span class="n">fs</span> <span class="o">=</span> <span class="n">FrequencySeries</span><span class="p">(</span>
        <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span> <span class="n">frequencies</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;Jy&quot;</span>
    <span class="p">)</span>
    <span class="n">spec</span> <span class="o">=</span> <span class="n">fs</span><span class="o">.</span><span class="n">to_specutils</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;specutils Spectrum1D:&quot;</span><span class="p">,</span> <span class="n">spec</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Spectral axis unit:&quot;</span><span class="p">,</span> <span class="n">spec</span><span class="o">.</span><span class="n">spectral_axis</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>

    <span class="c1"># specutils.Spectrum1D -&gt; FrequencySeries</span>
    <span class="n">fs_rec</span> <span class="o">=</span> <span class="n">FrequencySeries</span><span class="o">.</span><span class="n">from_specutils</span><span class="p">(</span><span class="n">spec</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Restored FrequencySeries unit:&quot;</span><span class="p">,</span> <span class="n">fs_rec</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">fs</span><span class="p">,</span> <span class="n">spec</span><span class="p">,</span> <span class="n">fs_rec</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;specutils library not found. Skipping example.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
specutils Spectrum1D: Spectrum (length=100)
Flux=[0.51846903 0.30770237 0.47424817 ... 0.43902276 0.76633802
      0.62354336] Jy,  mean=0.47038 Jy
Spectral Axis=[ 10.          10.90909091  11.81818182 ...
                98.18181818  99.09090909 100.        ] Hz,  mean=55.00000 Hz
Spectral axis unit: Hz
Restored FrequencySeries unit: Jy
</pre></div></div>
</div>
</section>
<section id="4.4.-Pyspeckit-ã¨ã®é€£æº-[GWExPy-New]">
<h3>4.4. Pyspeckit ã¨ã®é€£æº [GWExPy New]<a class="headerlink" href="#4.4.-Pyspeckit-ã¨ã®é€£æº-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>PySpecKit</strong>: PySpecKit ã¯é›»æ³¢å¤©æ–‡å­¦ã®ã‚¹ãƒšã‚¯ãƒˆãƒ«è§£æãƒ„ãƒ¼ãƒ«ã‚­ãƒƒãƒˆã§ã€ã‚¹ãƒšã‚¯ãƒˆãƒ«ç·šã®ãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚°ãªã©ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://pyspeckit.readthedocs.io/">PySpecKit Documentation</a></p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">FrequencySeries</span></code> ã¯ã€æ±ç”¨çš„ãªã‚¹ãƒšã‚¯ãƒˆãƒ«è§£æãƒ„ãƒ¼ãƒ«ã‚­ãƒƒãƒˆ <code class="docutils literal notranslate"><span class="pre">pyspeckit</span></code> ã® <code class="docutils literal notranslate"><span class="pre">Spectrum</span></code> ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã‚‚é€£æºå¯èƒ½ã§ã™ã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">pyspeckit</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">pyspeckit</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.frequencyseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">FrequencySeries</span>

    <span class="c1"># FrequencySeries -&gt; pyspeckit.Spectrum</span>
    <span class="n">fs</span> <span class="o">=</span> <span class="n">FrequencySeries</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span> <span class="n">frequencies</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
    <span class="n">spec</span> <span class="o">=</span> <span class="n">fs</span><span class="o">.</span><span class="n">to_pyspeckit</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;pyspeckit Spectrum length:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">spec</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>

    <span class="c1"># pyspeckit.Spectrum -&gt; FrequencySeries</span>
    <span class="n">fs_rec</span> <span class="o">=</span> <span class="n">FrequencySeries</span><span class="o">.</span><span class="n">from_pyspeckit</span><span class="p">(</span><span class="n">spec</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Restored FrequencySeries length:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">fs_rec</span><span class="p">))</span>

    <span class="k">del</span> <span class="n">fs</span><span class="p">,</span> <span class="n">spec</span><span class="p">,</span> <span class="n">fs_rec</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;pyspeckit library not found. Skipping example.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
pyspeckit Spectrum length: 100
Restored FrequencySeries length: 100
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
WARNING: No header given.  Creating an empty one.
</pre></div></div>
</div>
</section>
</section>
<section id="5.-ç´ ç²’å­ç‰©ç†å­¦ãƒ»é«˜ã‚¨ãƒãƒ«ã‚®ãƒ¼ç‰©ç†">
<h2>5. ç´ ç²’å­ç‰©ç†å­¦ãƒ»é«˜ã‚¨ãƒãƒ«ã‚®ãƒ¼ç‰©ç†<a class="headerlink" href="#5.-ç´ ç²’å­ç‰©ç†å­¦ãƒ»é«˜ã‚¨ãƒãƒ«ã‚®ãƒ¼ç‰©ç†" title="Link to this heading">ïƒ</a></h2>
<section id="5.1.-CERN-ROOT-ã¨ã®é€£æº-[GWExPy-New]">
<h3>5.1. CERN ROOT ã¨ã®é€£æº [GWExPy New]<a class="headerlink" href="#5.1.-CERN-ROOT-ã¨ã®é€£æº-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>ROOT</strong>: ROOT ã¯ CERN ãŒé–‹ç™ºã—ãŸé«˜ã‚¨ãƒãƒ«ã‚®ãƒ¼ç‰©ç†å­¦å‘ã‘ã®ãƒ‡ãƒ¼ã‚¿è§£æãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚ ğŸ“š <a class="reference external" href="https://root.cern/">ROOT Documentation</a></p>
</div></blockquote>
<p>é«˜ã‚¨ãƒãƒ«ã‚®ãƒ¼ç‰©ç†å­¦ã§æ¨™æº–çš„ãªãƒ„ãƒ¼ãƒ«ã§ã‚ã‚‹ <strong>ROOT</strong> ã¨ã®ç›¸äº’é‹ç”¨ãŒå¼·åŒ–ã•ã‚Œã¾ã—ãŸã€‚ <code class="docutils literal notranslate"><span class="pre">gwexpy</span></code> ã® Series ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ ROOT ã® <code class="docutils literal notranslate"><span class="pre">TGraph</span></code> ã‚„ <code class="docutils literal notranslate"><span class="pre">TH1D</span></code>, <code class="docutils literal notranslate"><span class="pre">TH2D</span></code> ã«é«˜é€Ÿã«å¤‰æ›ã—ãŸã‚Šã€ROOT ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ é€†ã«ã€ROOT ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰ <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code> ãªã©ã‚’å¾©å…ƒã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚</p>
<p><strong>Note</strong>: ã“ã®æ©Ÿèƒ½ã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ <code class="docutils literal notranslate"><span class="pre">ROOT</span></code> (PyROOT) ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">ROOT</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.timeseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">TimeSeries</span>

    <span class="c1"># ãƒ‡ãƒ¼ã‚¿ã®æº–å‚™</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">t</span><span class="p">)</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
    <span class="n">ts</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">dt</span><span class="o">=</span><span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;signal&quot;</span><span class="p">)</span>

    <span class="c1"># --- 1. TGraph ã¸ã®å¤‰æ› ---</span>
    <span class="c1"># ãƒ™ã‚¯ãƒˆãƒ«åŒ–ã•ã‚ŒãŸé«˜é€Ÿãªå¤‰æ›</span>
    <span class="n">graph</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_tgraph</span><span class="p">()</span>

    <span class="c1"># ROOT ã‚­ãƒ£ãƒ³ãƒã‚¹ã§ã®ãƒ—ãƒ­ãƒƒãƒˆ</span>
    <span class="n">c1</span> <span class="o">=</span> <span class="n">ROOT</span><span class="o">.</span><span class="n">TCanvas</span><span class="p">(</span><span class="s2">&quot;c1&quot;</span><span class="p">,</span> <span class="s2">&quot;TGraph Example&quot;</span><span class="p">,</span> <span class="mi">800</span><span class="p">,</span> <span class="mi">600</span><span class="p">)</span>
    <span class="n">graph</span><span class="o">.</span><span class="n">SetTitle</span><span class="p">(</span><span class="s2">&quot;ROOT TGraph;GPS Time [s];Amplitude&quot;</span><span class="p">)</span>
    <span class="n">graph</span><span class="o">.</span><span class="n">Draw</span><span class="p">(</span><span class="s2">&quot;AL&quot;</span><span class="p">)</span>
    <span class="n">c1</span><span class="o">.</span><span class="n">Draw</span><span class="p">()</span>
    <span class="c1"># c1.SaveAs(&quot;signal_graph.png&quot;) # ç”»åƒã¨ã—ã¦ä¿å­˜ã™ã‚‹å ´åˆ</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Created TGraph: </span><span class="si">{</span><span class="n">graph</span><span class="o">.</span><span class="n">GetName</span><span class="p">()</span><span class="si">}</span><span class="s2"> with </span><span class="si">{</span><span class="n">graph</span><span class="o">.</span><span class="n">GetN</span><span class="p">()</span><span class="si">}</span><span class="s2"> points&quot;</span><span class="p">)</span>

    <span class="c1"># --- 2. TH1D (ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ) ã¸ã®å¤‰æ› ---</span>
    <span class="c1"># ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ã¨ã—ã¦å¤‰æ› (ãƒ“ãƒ³è©°ã‚ã¯è‡ªå‹•ã¾ãŸã¯æŒ‡å®šå¯èƒ½)</span>
    <span class="n">hist</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_th1d</span><span class="p">()</span>

    <span class="n">c2</span> <span class="o">=</span> <span class="n">ROOT</span><span class="o">.</span><span class="n">TCanvas</span><span class="p">(</span><span class="s2">&quot;c2&quot;</span><span class="p">,</span> <span class="s2">&quot;TH1D Example&quot;</span><span class="p">,</span> <span class="mi">800</span><span class="p">,</span> <span class="mi">600</span><span class="p">)</span>
    <span class="n">hist</span><span class="o">.</span><span class="n">SetTitle</span><span class="p">(</span><span class="s2">&quot;ROOT TH1D;GPS Time [s];Amplitude&quot;</span><span class="p">)</span>
    <span class="n">hist</span><span class="o">.</span><span class="n">SetLineColor</span><span class="p">(</span><span class="n">ROOT</span><span class="o">.</span><span class="n">kRed</span><span class="p">)</span>
    <span class="n">hist</span><span class="o">.</span><span class="n">Draw</span><span class="p">()</span>
    <span class="n">c2</span><span class="o">.</span><span class="n">Draw</span><span class="p">()</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Created TH1D: </span><span class="si">{</span><span class="n">hist</span><span class="o">.</span><span class="n">GetName</span><span class="p">()</span><span class="si">}</span><span class="s2"> with </span><span class="si">{</span><span class="n">hist</span><span class="o">.</span><span class="n">GetNbinsX</span><span class="p">()</span><span class="si">}</span><span class="s2"> bins&quot;</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">t</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">graph</span><span class="p">,</span> <span class="n">hist</span><span class="p">,</span> <span class="n">c1</span><span class="p">,</span> <span class="n">c2</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="k">pass</span>
<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;An error occurred: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="5.2.-ROOT-ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰ã®å¾©å…ƒ-(from_root)">
<h3>5.2. ROOT ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰ã®å¾©å…ƒ (<code class="docutils literal notranslate"><span class="pre">from_root</span></code>)<a class="headerlink" href="#5.2.-ROOT-ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰ã®å¾©å…ƒ-(from_root)" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>ROOT</strong>: ROOT ã¯ CERN ãŒé–‹ç™ºã—ãŸé«˜ã‚¨ãƒãƒ«ã‚®ãƒ¼ç‰©ç†å­¦å‘ã‘ã®ãƒ‡ãƒ¼ã‚¿è§£æãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚ ğŸ“š <a class="reference external" href="https://root.cern/">ROOT Documentation</a></p>
</div></blockquote>
<p>æ—¢å­˜ã® ROOT ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚ã‚‹ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ã‚„ã‚°ãƒ©ãƒ•ã‚’èª­ã¿è¾¼ã‚“ã§ã€è§£æã—ã‚„ã™ã„ <code class="docutils literal notranslate"><span class="pre">gwexpy</span></code> ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«æˆ»ã™ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="k">if</span> <span class="s2">&quot;hist&quot;</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">()</span> <span class="ow">and</span> <span class="n">hist</span><span class="p">:</span>
        <span class="c1"># ROOT TH1D -&gt; TimeSeries</span>
        <span class="c1"># ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ã®ãƒ“ãƒ³å†…å®¹ã‚’æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦èª­ã¿è¾¼ã¿ã¾ã™</span>
        <span class="n">ts_restored</span> <span class="o">=</span> <span class="n">from_root</span><span class="p">(</span><span class="n">TimeSeries</span><span class="p">,</span> <span class="n">hist</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Restored TimeSeries: </span><span class="si">{</span><span class="n">ts_restored</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">ts_restored</span><span class="p">)</span>

        <span class="c1"># TGraph ã‹ã‚‰ã®å¾©å…ƒã‚‚åŒæ§˜</span>
        <span class="n">ts_from_graph</span> <span class="o">=</span> <span class="n">from_root</span><span class="p">(</span><span class="n">TimeSeries</span><span class="p">,</span> <span class="n">graph</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Restored from TGraph: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">ts_from_graph</span><span class="p">)</span><span class="si">}</span><span class="s2"> samples&quot;</span><span class="p">)</span>

        <span class="k">del</span> <span class="n">ts_restored</span><span class="p">,</span> <span class="n">ts_from_graph</span>

<span class="k">except</span> <span class="ne">NameError</span><span class="p">:</span>
    <span class="k">pass</span>  <span class="c1"># hist ã‚„ graph ãŒä½œæˆã•ã‚Œãªã‹ã£ãŸå ´åˆ</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="k">pass</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="6.-åœ°çƒç‰©ç†å­¦ãƒ»åœ°éœ‡å­¦ãƒ»é›»ç£æ°—å­¦">
<h2>6. åœ°çƒç‰©ç†å­¦ãƒ»åœ°éœ‡å­¦ãƒ»é›»ç£æ°—å­¦<a class="headerlink" href="#6.-åœ°çƒç‰©ç†å­¦ãƒ»åœ°éœ‡å­¦ãƒ»é›»ç£æ°—å­¦" title="Link to this heading">ïƒ</a></h2>
<section id="6.1.-ObsPy-[Original-GWpy]">
<h3>6.1. ObsPy [Original GWpy]<a class="headerlink" href="#6.1.-ObsPy-[Original-GWpy]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>ObsPy</strong>: ObsPy ã¯åœ°éœ‡å­¦ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ãƒ»å‡¦ç†ãƒ»è§£æã®ãŸã‚ã® Python ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€MiniSEED å½¢å¼ãªã©ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://docs.obspy.org/">ObsPy Documentation</a></p>
</div></blockquote>
<p>åœ°éœ‡å­¦ã§æ¨™æº–çš„ãª ObsPy ã¨ã®ç›¸äº’é‹ç”¨ã‚’ã‚µãƒãƒ¼ãƒˆã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">obspy</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">obspy</span>
    <span class="c1"># TimeSeries -&gt; ObsPy Trace</span>
    <span class="n">tr</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_obspy</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--- ObsPy Trace ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">tr</span><span class="p">)</span>

    <span class="c1"># Plot using ObsPy</span>
    <span class="n">tr</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>

    <span class="c1"># Recover to TimeSeries</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.timeseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">TimeSeries</span>

    <span class="n">ts_recovered</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_obspy</span><span class="p">(</span><span class="n">tr</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recovered from ObsPy:&quot;</span><span class="p">,</span> <span class="n">ts_recovered</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">tr</span><span class="p">,</span> <span class="n">ts_recovered</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ObsPy not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
--- ObsPy Trace ---
.demo_signal.. | 2019-02-18T23:31:12.000000Z - 2019-02-18T23:31:21.990000Z | 100.0 Hz, 1000 samples
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../../_images/web_ja_user_guide_tutorials_intro_interop_50_1.png" src="../../../../_images/web_ja_user_guide_tutorials_intro_interop_50_1.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Recovered from ObsPy: TimeSeries([ 0.        ,  0.06279052,  0.12533323, ...,
            -0.18738131, -0.12533323, -0.06279052]
           unit: dimensionless,
           t0: 1234567890.0 s,
           dt: 0.01 s,
           name: .demo_signal..,
           channel: None)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">obspy</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">obspy</span>
    <span class="n">tr</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_obspy</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ObsPy Trace:&quot;</span><span class="p">,</span> <span class="n">tr</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">tr</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ObsPy not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
ObsPy Trace: .demo_signal.. | 2019-02-18T23:31:12.000000Z - 2019-02-18T23:31:21.990000Z | 100.0 Hz, 1000 samples
</pre></div></div>
</div>
</section>
<section id="6.2.-SimPEG-ã¨ã®é€£æº-[GWExPy-New]">
<h3>6.2. SimPEG ã¨ã®é€£æº [GWExPy New]<a class="headerlink" href="#6.2.-SimPEG-ã¨ã®é€£æº-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>SimPEG</strong>: SimPEG ã¯åœ°çƒç‰©ç†å­¦çš„é€†å•é¡Œã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»æ¨å®šãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚ ğŸ“š <a class="reference external" href="https://simpeg.xyz/">SimPEG Documentation</a></p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">gwexpy</span></code> ã¯ã€åœ°çƒç‰©ç†å­¦ã®ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰è¨ˆç®—ãƒ»åè»¢ãƒ¢ãƒ‡ãƒªãƒ³ã‚°ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã‚ã‚‹ <code class="docutils literal notranslate"><span class="pre">SimPEG</span></code> ã¨ã®é€£æºã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚ <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code> (TDEM) ãŠã‚ˆã³ <code class="docutils literal notranslate"><span class="pre">FrequencySeries</span></code> (FDEM) ã‚’ <code class="docutils literal notranslate"><span class="pre">simpeg.data.Data</span></code> ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¤‰æ›ã—ãŸã‚Šã€ãã®é€†ã‚’è¡Œã£ãŸã‚Šã§ãã¾ã™ã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">simpeg</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">simpeg</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">simpeg</span><span class="w"> </span><span class="kn">import</span> <span class="n">maps</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">maps</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.frequencyseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">FrequencySeries</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.timeseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">TimeSeries</span>

    <span class="c1"># --- TimeSeries -&gt; SimPEG (TDEMæƒ³å®š) ---</span>
    <span class="n">ts</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">),</span> <span class="n">dt</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;A/m^2&quot;</span><span class="p">)</span>
    <span class="n">simpeg_data_td</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_simpeg</span><span class="p">(</span><span class="n">location</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;SimPEG TDEM data shape:&quot;</span><span class="p">,</span> <span class="n">simpeg_data_td</span><span class="o">.</span><span class="n">dobs</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

    <span class="c1"># --- FrequencySeries -&gt; SimPEG (FDEMæƒ³å®š) ---</span>
    <span class="n">fs</span> <span class="o">=</span> <span class="n">FrequencySeries</span><span class="p">(</span>
        <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="n">j</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">,</span> <span class="n">frequencies</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">simpeg_data_fd</span> <span class="o">=</span> <span class="n">fs</span><span class="o">.</span><span class="n">to_simpeg</span><span class="p">(</span><span class="n">location</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]),</span> <span class="n">orientation</span><span class="o">=</span><span class="s2">&quot;z&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;SimPEG FDEM data shape:&quot;</span><span class="p">,</span> <span class="n">simpeg_data_fd</span><span class="o">.</span><span class="n">dobs</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">simpeg_data_td</span><span class="p">,</span> <span class="n">simpeg_data_fd</span><span class="p">,</span> <span class="n">fs</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;SimPEG library not found. Skipping example.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
SimPEG TDEM data shape: (100,)
SimPEG FDEM data shape: (10,)
</pre></div></div>
</div>
</section>
<section id="6.3.-MTH5-/-MTpy-[GWExPy-New]">
<h3>6.3. MTH5 / MTpy [GWExPy New]<a class="headerlink" href="#6.3.-MTH5-/-MTpy-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>MTH5</strong>: MTH5 ã¯ç£æ°—åœ°é›»æµ (MT) ãƒ‡ãƒ¼ã‚¿ã®ãŸã‚ã® HDF5 ãƒ™ãƒ¼ã‚¹ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ã™ã€‚ ğŸ“š <a class="reference external" href="https://mth5.readthedocs.io/">MTH5 Documentation</a></p>
</div></blockquote>
<p>åœ°ç£æ°—åœ°é›»æµæ³•ãƒ‡ãƒ¼ã‚¿ã® MTH5 ä¿å­˜ã«å¯¾å¿œã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">tempfile</span>

    <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;mth5&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span><span class="p">)</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;mt_metadata&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span><span class="p">)</span>

    <span class="kn">import</span><span class="w"> </span><span class="nn">mth5</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">mth5</span>
    <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">NamedTemporaryFile</span><span class="p">(</span><span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;.h5&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">tmp</span><span class="p">:</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.interop.mt_</span><span class="w"> </span><span class="kn">import</span> <span class="n">from_mth5</span><span class="p">,</span> <span class="n">to_mth5</span>

        <span class="c1"># TimeSeries -&gt; MTH5</span>
        <span class="c1"># We need to provide station and run names for MTH5 structure</span>
        <span class="n">to_mth5</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">tmp</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">station</span><span class="o">=</span><span class="s2">&quot;SITE01&quot;</span><span class="p">,</span> <span class="n">run</span><span class="o">=</span><span class="s2">&quot;RUN01&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Saved to MTH5 file: </span><span class="si">{</span><span class="n">tmp</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Display structure info if needed, or just recover</span>
        <span class="c1"># Recover</span>
        <span class="n">ts_recovered</span> <span class="o">=</span> <span class="n">from_mth5</span><span class="p">(</span><span class="n">tmp</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;SITE01&quot;</span><span class="p">,</span> <span class="s2">&quot;RUN01&quot;</span><span class="p">,</span> <span class="n">ts</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="s2">&quot;Ex&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recovered from MTH5:&quot;</span><span class="p">,</span> <span class="n">ts_recovered</span><span class="p">)</span>

        <span class="n">ts_recovered</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Recovered from MTH5&quot;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

        <span class="k">del</span> <span class="n">ts_recovered</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;mth5 not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-bold">2026-02-15T12:42:10.718567+0900 | INFO | mth5.mth5 | _initialize_file | line: 900 | Initialized MTH5 0.2.0 file /tmp/tmp01jpayrq.h5 in mode a</span>
<span class="ansi-bold">2026-02-15T12:42:11.411948+0900 | INFO | mth5.mth5 | close_mth5 | line: 1035 | Flushing and closing /tmp/tmp01jpayrq.h5</span>
Saved to MTH5 file: /tmp/tmp01jpayrq.h5
<span class="ansi-bold">2026-02-15T12:42:11.660676+0900 | INFO | mth5.mth5 | close_mth5 | line: 1035 | Flushing and closing /tmp/tmp01jpayrq.h5</span>
Recovered from MTH5: TimeSeries([ 0.47935349, -0.02328522, -0.16523183,  0.71674425,
            -0.00670899, -0.9152199 , -0.22998381,  0.45328832,
             0.10624445,  1.65140672, -1.02456919, -0.69948415,
            -1.02011435,  0.85618934,  0.42419862,  0.44444702,
             0.07925082,  0.42100365, -1.44626622, -0.36614625,
             0.78059643, -1.42121631, -0.39678686,  0.28491481,
            -0.2804394 ,  0.31602497,  1.49924642,  0.95834295,
             0.2538613 , -0.88376585, -0.74207537, -0.45912791,
            -1.95889376, -0.0392873 ,  0.85150314,  1.18113019,
            -0.62814004,  0.58964268,  0.48446355,  1.39513257,
            -0.16846033,  1.43330252,  0.43244836, -0.96506277,
             0.44626786,  0.81760197,  1.83483127,  1.43171572,
             0.90244978, -1.21545032, -0.60309414,  1.26801634,
            -2.5765181 , -1.20532687,  0.04715429, -0.47272935,
            -1.04238559, -1.54978979,  1.30220718,  0.12112729,
             1.25128556,  1.05153336, -0.88637776, -0.6585725 ,
             0.30202316,  0.32217812,  0.31286732,  1.07552766,
            -0.3836527 ,  1.98692975,  2.20789356, -0.18302232,
             2.14261599, -0.99143689, -0.79637469, -1.09520028,
             1.17259328,  0.939443  ,  0.3355036 , -0.52416258,
             0.08415421, -0.33175174, -0.227242  , -1.03512944,
             1.63485861, -0.46402169,  1.52975788, -0.11934485,
             1.27279392, -0.83542818,  0.97597222,  0.86705913,
             0.08425127,  0.99519543,  0.63698408, -1.25832174,
             0.17429829, -1.85699068,  0.19964172, -0.64872701]
           unit: dimensionless,
           t0: 0.0 s,
           dt: 1.0 s,
           name: Ex,
           channel: None)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../../_images/web_ja_user_guide_tutorials_intro_interop_55_1.png" src="../../../../_images/web_ja_user_guide_tutorials_intro_interop_55_1.png" />
</div>
</div>
</section>
</section>
<section id="7.-éŸ³éŸ¿ãƒ»éŸ³å£°è§£æ">
<h2>7. éŸ³éŸ¿ãƒ»éŸ³å£°è§£æ<a class="headerlink" href="#7.-éŸ³éŸ¿ãƒ»éŸ³å£°è§£æ" title="Link to this heading">ïƒ</a></h2>
<section id="7.1.-Librosa-/-Pydub-[GWExPy-New]">
<h3>7.1. Librosa / Pydub [GWExPy New]<a class="headerlink" href="#7.1.-Librosa-/-Pydub-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>pydub</strong>: pydub ã¯ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªãƒ•ã‚¡ã‚¤ãƒ«ã®æ“ä½œï¼ˆç·¨é›†ãƒ»å¤‰æ›ãƒ»ã‚¨ãƒ•ã‚§ã‚¯ãƒˆï¼‰ã®ãŸã‚ã®ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚ ğŸ“š <a class="reference external" href="https://github.com/jiaaro/pydub">pydub Documentation</a></p>
</div></blockquote>
<blockquote>
<div><p><strong>librosa</strong>: librosa ã¯éŸ³å£°ãƒ»éŸ³æ¥½è§£æã®ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€ã‚¹ãƒšã‚¯ãƒˆãƒ«è§£æã‚„ãƒ“ãƒ¼ãƒˆæ¤œå‡ºãªã©ã®æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://librosa.org/">librosa Documentation</a></p>
</div></blockquote>
<p>éŸ³å£°å‡¦ç†ãƒ©ã‚¤ãƒ–ãƒ©ãƒª Librosa ã‚„ Pydub ã¨ã®é€£æºã‚’ã‚µãƒãƒ¼ãƒˆã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">librosa</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">librosa</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

    <span class="c1"># TimeSeries -&gt; Librosa (y, sr)</span>
    <span class="n">y</span><span class="p">,</span> <span class="n">sr</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_librosa</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;--- Librosa Data ---</span><span class="se">\n</span><span class="s2">Signal shape: </span><span class="si">{</span><span class="n">y</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2">, Sample rate: </span><span class="si">{</span><span class="n">sr</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Plot using librosa style (matplotlib)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y</span><span class="p">[:</span><span class="mi">1000</span><span class="p">])</span>  <span class="c1"># Plot first 1000 samples</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Librosa Audio Signal (Zoom)&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="c1"># Recover to TimeSeries</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.timeseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">TimeSeries</span>

    <span class="n">ts_recovered</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">dt</span><span class="o">=</span><span class="mf">1.0</span> <span class="o">/</span> <span class="n">sr</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recovered from Librosa:&quot;</span><span class="p">,</span> <span class="n">ts_recovered</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">y</span><span class="p">,</span> <span class="n">sr</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Librosa not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
--- Librosa Data ---
Signal shape: (100,), Sample rate: 100
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../../_images/web_ja_user_guide_tutorials_intro_interop_58_1.png" src="../../../../_images/web_ja_user_guide_tutorials_intro_interop_58_1.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Recovered from Librosa: TimeSeries([ 0.4793535 , -0.02328522, -0.16523182,  0.71674424,
            -0.00670899, -0.9152199 , -0.2299838 ,  0.45328832,
             0.10624445,  1.6514068 , -1.0245692 , -0.69948417,
            -1.0201143 ,  0.8561893 ,  0.42419863,  0.444447  ,
             0.07925082,  0.42100364, -1.4462662 , -0.36614624,
             0.78059644, -1.4212164 , -0.39678687,  0.28491482,
            -0.2804394 ,  0.31602496,  1.4992464 ,  0.95834297,
             0.2538613 , -0.8837659 , -0.7420754 , -0.4591279 ,
            -1.9588938 , -0.0392873 ,  0.85150313,  1.1811302 ,
            -0.62814003,  0.5896427 ,  0.48446354,  1.3951325 ,
            -0.16846032,  1.4333025 ,  0.43244836, -0.9650628 ,
             0.44626787,  0.817602  ,  1.8348312 ,  1.4317157 ,
             0.9024498 , -1.2154503 , -0.60309416,  1.2680163 ,
            -2.576518  , -1.2053269 ,  0.04715429, -0.47272936,
            -1.0423856 , -1.5497898 ,  1.3022072 ,  0.12112729,
             1.2512856 ,  1.0515333 , -0.88637775, -0.6585725 ,
             0.30202314,  0.32217813,  0.3128673 ,  1.0755277 ,
            -0.38365272,  1.9869298 ,  2.2078936 , -0.18302232,
             2.142616  , -0.9914369 , -0.7963747 , -1.0952003 ,
             1.1725932 ,  0.939443  ,  0.3355036 , -0.5241626 ,
             0.08415421, -0.33175173, -0.227242  , -1.0351294 ,
             1.6348586 , -0.46402168,  1.5297579 , -0.11934485,
             1.2727939 , -0.8354282 ,  0.97597224,  0.8670591 ,
             0.08425127,  0.99519545,  0.6369841 , -1.2583218 ,
             0.17429829, -1.8569907 ,  0.19964172, -0.648727  ]
           unit: dimensionless,
           t0: 0.0 s,
           dt: 0.01 s,
           name: None,
           channel: None)
</pre></div></div>
</div>
</section>
</section>
<section id="8.-åŒ»å­¦ãƒ»ç”Ÿä½“ä¿¡å·è§£æ">
<h2>8. åŒ»å­¦ãƒ»ç”Ÿä½“ä¿¡å·è§£æ<a class="headerlink" href="#8.-åŒ»å­¦ãƒ»ç”Ÿä½“ä¿¡å·è§£æ" title="Link to this heading">ïƒ</a></h2>
<section id="8.1.-MNE-Python-[GWExPy-New]">
<h3>8.1. MNE-Python [GWExPy New]<a class="headerlink" href="#8.1.-MNE-Python-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>MNE</strong>: MNE-Python ã¯è„³æ³¢ (EEG)ãƒ»è„³ç£å›³ (MEG) ãƒ‡ãƒ¼ã‚¿ã®è§£æãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€ç¥çµŒç§‘å­¦ç ”ç©¶ã«åºƒãä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://mne.tools/">MNE Documentation</a></p>
</div></blockquote>
<p>è„³é›»å›³ (EEG/MEG) è§£æãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ MNE ã¨ã®é€£æºã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">mne</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">mne</span>
    <span class="c1"># TimeSeries -&gt; MNE Raw</span>
    <span class="n">raw</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_mne</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--- MNE Raw ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">raw</span><span class="p">)</span>

    <span class="c1"># Display info</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">raw</span><span class="o">.</span><span class="n">info</span><span class="p">)</span>

    <span class="c1"># Recover to TimeSeries</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.timeseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">TimeSeries</span>

    <span class="n">ts_recovered</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_mne</span><span class="p">(</span><span class="n">raw</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="n">ts</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="s2">&quot;ch0&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recovered from MNE:&quot;</span><span class="p">,</span> <span class="n">ts_recovered</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">raw</span><span class="p">,</span> <span class="n">ts_recovered</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;MNE not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Creating RawArray with float64 data, n_channels=1, n_times=100
    Range : 0 ... 99 =      0.000 ...     0.990 secs
Ready.
--- MNE Raw ---
&lt;RawArray | 1 x 100 (1.0 s), ~6 KiB, data loaded&gt;
&lt;Info | 7 non-empty values
 bads: []
 ch_names: ch0
 chs: 1 misc
 custom_ref_applied: False
 highpass: 0.0 Hz
 lowpass: 50.0 Hz
 meas_date: unspecified
 nchan: 1
 projs: []
 sfreq: 100.0 Hz
&gt;
Recovered from MNE: TimeSeries([ 0.47935349, -0.02328522, -0.16523183,  0.71674425,
            -0.00670899, -0.9152199 , -0.22998381,  0.45328832,
             0.10624445,  1.65140672, -1.02456919, -0.69948415,
            -1.02011435,  0.85618934,  0.42419862,  0.44444702,
             0.07925082,  0.42100365, -1.44626622, -0.36614625,
             0.78059643, -1.42121631, -0.39678686,  0.28491481,
            -0.2804394 ,  0.31602497,  1.49924642,  0.95834295,
             0.2538613 , -0.88376585, -0.74207537, -0.45912791,
            -1.95889376, -0.0392873 ,  0.85150314,  1.18113019,
            -0.62814004,  0.58964268,  0.48446355,  1.39513257,
            -0.16846033,  1.43330252,  0.43244836, -0.96506277,
             0.44626786,  0.81760197,  1.83483127,  1.43171572,
             0.90244978, -1.21545032, -0.60309414,  1.26801634,
            -2.5765181 , -1.20532687,  0.04715429, -0.47272935,
            -1.04238559, -1.54978979,  1.30220718,  0.12112729,
             1.25128556,  1.05153336, -0.88637776, -0.6585725 ,
             0.30202316,  0.32217812,  0.31286732,  1.07552766,
            -0.3836527 ,  1.98692975,  2.20789356, -0.18302232,
             2.14261599, -0.99143689, -0.79637469, -1.09520028,
             1.17259328,  0.939443  ,  0.3355036 , -0.52416258,
             0.08415421, -0.33175174, -0.227242  , -1.03512944,
             1.63485861, -0.46402169,  1.52975788, -0.11934485,
             1.27279392, -0.83542818,  0.97597222,  0.86705913,
             0.08425127,  0.99519543,  0.63698408, -1.25832174,
             0.17429829, -1.85699068,  0.19964172, -0.64872701]
           unit: dimensionless,
           t0: 0.0 s,
           dt: 0.01 s,
           name: ch0,
           channel: None)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">mne</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">mne</span>
    <span class="n">raw</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">to_mne</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;MNE Raw:&quot;</span><span class="p">,</span> <span class="n">raw</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">raw</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;MNE not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Creating RawArray with float64 data, n_channels=1, n_times=100
    Range : 0 ... 99 =      0.000 ...     0.990 secs
Ready.
MNE Raw: &lt;RawArray | 1 x 100 (1.0 s), ~6 KiB, data loaded&gt;
</pre></div></div>
</div>
</section>
<section id="8.2.-Elephant-/-quantities-ã¨ã®é€£æº-[GWExPy-New]">
<h3>8.2. Elephant / quantities ã¨ã®é€£æº [GWExPy New]<a class="headerlink" href="#8.2.-Elephant-/-quantities-ã¨ã®é€£æº-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">gwexpy</span></code> ã® <code class="docutils literal notranslate"><span class="pre">FrequencySeries</span></code> ã‚„ <code class="docutils literal notranslate"><span class="pre">Spectrogram</span></code> ã¯ã€<code class="docutils literal notranslate"><span class="pre">quantities.Quantity</span></code> ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ç›¸äº’å¤‰æ›å¯èƒ½ã§ã™ã€‚ ã“ã‚Œã¯ Elephant ã‚„ Neo ã¨ã®é€£æºã«å½¹ç«‹ã¡ã¾ã™ã€‚</p>
<p>â€» äº‹å‰ã« <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">quantities</span></code> ãŒå¿…è¦ã§ã™ã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">quantities</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pq</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">pq</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.frequencyseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">FrequencySeries</span>

    <span class="c1"># FrequencySeries ã®ä½œæˆ</span>
    <span class="n">freqs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">101</span><span class="p">)</span>
    <span class="n">data_fs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">101</span><span class="p">)</span>
    <span class="n">fs</span> <span class="o">=</span> <span class="n">FrequencySeries</span><span class="p">(</span><span class="n">data_fs</span><span class="p">,</span> <span class="n">frequencies</span><span class="o">=</span><span class="n">freqs</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;V&quot;</span><span class="p">)</span>

    <span class="c1"># to_quantities</span>
    <span class="n">q_obj</span> <span class="o">=</span> <span class="n">fs</span><span class="o">.</span><span class="n">to_quantities</span><span class="p">(</span><span class="n">units</span><span class="o">=</span><span class="s2">&quot;mV&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Quantities object:&quot;</span><span class="p">,</span> <span class="n">q_obj</span><span class="p">)</span>

    <span class="c1"># from_quantities</span>
    <span class="n">fs_new</span> <span class="o">=</span> <span class="n">FrequencySeries</span><span class="o">.</span><span class="n">from_quantities</span><span class="p">(</span><span class="n">q_obj</span><span class="p">,</span> <span class="n">frequencies</span><span class="o">=</span><span class="n">freqs</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Restored FrequencySeries unit:&quot;</span><span class="p">,</span> <span class="n">fs_new</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">freqs</span><span class="p">,</span> <span class="n">data_fs</span><span class="p">,</span> <span class="n">fs</span><span class="p">,</span> <span class="n">q_obj</span><span class="p">,</span> <span class="n">fs_new</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;quantities library not found. Skipping example.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Quantities object: [436.02682496 282.05045148 984.93013807 427.50106591
 590.73315735 512.74195037 480.59454758  11.79279716
 846.87043625 330.84075085 561.61071646 471.63138231
 474.51027263 628.06164979  31.67261787 494.89412651
 388.43052812 328.64374525 140.1524644  402.90514129
 129.83860556 188.310236   897.36339305  12.0013289
 935.32682802 238.96075235 618.7720837  773.43957144
 364.9229802  355.02054795 857.98575983 418.56387662
 380.80282183 353.87771473 413.29608205 729.20842591
 651.1468029  638.36881651  28.67584865 406.23146899
 177.2661802  878.62044665  90.35881536 493.57526372
 511.39144317 781.17217517  50.90328522 770.69582702
 381.16289318 883.5682894  131.60128099 639.11789791
 631.85586006 963.59144103 685.13876626 566.37598657
 875.49182946 534.90369384 968.88109687 143.74436153
 163.8636378  988.98873051 802.4302235  935.17006941
 147.62996121 962.42632576 342.35666404 186.2554208
 395.08305606 215.55803629 310.69428819 994.40410905
 120.07756448 317.69770857 764.24198796 361.08386265
 358.0918859  976.66394174 863.77736594 899.43067572
 652.49955047 726.46530409 818.77154035 821.0637067
 969.49659192 484.99778482 476.51190248 417.98738444
 871.03646857 461.28171482 211.32908649 524.88082384
 126.61144072 451.10873619 536.35919586 225.9555246
 540.82673977 357.51584014 702.83146861 939.68586794
 496.14641528] mV
Restored FrequencySeries unit: mV
</pre></div></div>
</div>
</section>
<section id="8.3.-Neo-[GWExPy-New]">
<h3>8.3. Neo [GWExPy New]<a class="headerlink" href="#8.3.-Neo-[GWExPy-New]" title="Link to this heading">ïƒ</a></h3>
<blockquote>
<div><p><strong>Neo</strong>: Neo ã¯é›»æ°—ç”Ÿç†å­¦ãƒ‡ãƒ¼ã‚¿ï¼ˆç¥çµŒç§‘å­¦ï¼‰ã®ãŸã‚ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€æ§˜ã€…ãªãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¸ã®å…¥å‡ºåŠ›ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚ ğŸ“š <a class="reference external" href="https://neo.readthedocs.io/">Neo Documentation</a></p>
</div></blockquote>
<p>é›»æ°—ç”Ÿç†ãƒ‡ãƒ¼ã‚¿ã®å…±é€šè¦æ ¼ Neo ã¸ã®å¤‰æ›ã‚’ã‚µãƒãƒ¼ãƒˆã€‚</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">neo</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">neo</span>
    <span class="c1"># TimeSeries -&gt; Neo AnalogSignal</span>
    <span class="c1"># to_neo is available in gwexpy.interop</span>
    <span class="c1"># Note: TimeseriesMatrix is preferred for multi-channel Neo conversion,</span>
    <span class="c1"># but we can convert single TimeSeries by wrapping it.</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.interop</span><span class="w"> </span><span class="kn">import</span> <span class="n">from_neo</span><span class="p">,</span> <span class="n">to_neo</span>

    <span class="n">_</span> <span class="o">=</span> <span class="n">from_neo</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">to_neo</span>
    <span class="c1"># For single TimeSeries, we might need a Matrix wrapper or direct helper.</span>
    <span class="c1"># Assuming helper exists or using Matrix:</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">gwexpy.timeseries</span><span class="w"> </span><span class="kn">import</span> <span class="n">TimeSeriesMatrix</span>

    <span class="n">tm</span> <span class="o">=</span> <span class="n">TimeSeriesMatrix</span><span class="p">(</span>
        <span class="n">ts</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="p">:],</span> <span class="n">t0</span><span class="o">=</span><span class="n">ts</span><span class="o">.</span><span class="n">t0</span><span class="p">,</span> <span class="n">dt</span><span class="o">=</span><span class="n">ts</span><span class="o">.</span><span class="n">dt</span><span class="p">,</span> <span class="n">channel_names</span><span class="o">=</span><span class="p">[</span><span class="n">ts</span><span class="o">.</span><span class="n">name</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="n">sig</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">to_neo</span><span class="p">()</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--- Neo AnalogSignal ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span>

    <span class="c1"># Display/Plot</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">sig</span><span class="o">.</span><span class="n">times</span><span class="p">,</span> <span class="n">sig</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Neo AnalogSignal Plot&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="c1"># Recover</span>
    <span class="n">tm_recovered</span> <span class="o">=</span> <span class="n">TimeSeriesMatrix</span><span class="o">.</span><span class="n">from_neo</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span>
    <span class="n">ts_recovered</span> <span class="o">=</span> <span class="n">tm_recovered</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recovered from Neo:&quot;</span><span class="p">,</span> <span class="n">ts_recovered</span><span class="p">)</span>

    <span class="k">del</span> <span class="n">tm</span><span class="p">,</span> <span class="n">tm_recovered</span><span class="p">,</span> <span class="n">sig</span><span class="p">,</span> <span class="n">ts_recovered</span>

<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;neo not installed.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
--- Neo AnalogSignal ---
[[ 0.47935349]
 [-0.02328522]
 [-0.16523183]
 [ 0.71674425]
 [-0.00670899]
 [-0.9152199 ]
 [-0.22998381]
 [ 0.45328832]
 [ 0.10624445]
 [ 1.65140672]
 [-1.02456919]
 [-0.69948415]
 [-1.02011435]
 [ 0.85618934]
 [ 0.42419862]
 [ 0.44444702]
 [ 0.07925082]
 [ 0.42100365]
 [-1.44626622]
 [-0.36614625]
 [ 0.78059643]
 [-1.42121631]
 [-0.39678686]
 [ 0.28491481]
 [-0.2804394 ]
 [ 0.31602497]
 [ 1.49924642]
 [ 0.95834295]
 [ 0.2538613 ]
 [-0.88376585]
 [-0.74207537]
 [-0.45912791]
 [-1.95889376]
 [-0.0392873 ]
 [ 0.85150314]
 [ 1.18113019]
 [-0.62814004]
 [ 0.58964268]
 [ 0.48446355]
 [ 1.39513257]
 [-0.16846033]
 [ 1.43330252]
 [ 0.43244836]
 [-0.96506277]
 [ 0.44626786]
 [ 0.81760197]
 [ 1.83483127]
 [ 1.43171572]
 [ 0.90244978]
 [-1.21545032]
 [-0.60309414]
 [ 1.26801634]
 [-2.5765181 ]
 [-1.20532687]
 [ 0.04715429]
 [-0.47272935]
 [-1.04238559]
 [-1.54978979]
 [ 1.30220718]
 [ 0.12112729]
 [ 1.25128556]
 [ 1.05153336]
 [-0.88637776]
 [-0.6585725 ]
 [ 0.30202316]
 [ 0.32217812]
 [ 0.31286732]
 [ 1.07552766]
 [-0.3836527 ]
 [ 1.98692975]
 [ 2.20789356]
 [-0.18302232]
 [ 2.14261599]
 [-0.99143689]
 [-0.79637469]
 [-1.09520028]
 [ 1.17259328]
 [ 0.939443  ]
 [ 0.3355036 ]
 [-0.52416258]
 [ 0.08415421]
 [-0.33175174]
 [-0.227242  ]
 [-1.03512944]
 [ 1.63485861]
 [-0.46402169]
 [ 1.52975788]
 [-0.11934485]
 [ 1.27279392]
 [-0.83542818]
 [ 0.97597222]
 [ 0.86705913]
 [ 0.08425127]
 [ 0.99519543]
 [ 0.63698408]
 [-1.25832174]
 [ 0.17429829]
 [-1.85699068]
 [ 0.19964172]
 [-0.64872701]] dimensionless
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../../_images/web_ja_user_guide_tutorials_intro_interop_66_1.png" src="../../../../_images/web_ja_user_guide_tutorials_intro_interop_66_1.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Recovered from Neo: SeriesMatrix(shape=(1, 1, 100),  name=&#39;&#39;)
  epoch   : 0.0
  x0      : 0.0 s
  dx      : 0.01 s
  xunit   : s
  samples : 100

[ Row metadata ]
     name channel unit
key
row0

[ Column metadata ]
     name channel unit
key
col0

[ Elements metadata ]
  unit  name channel  row  col
0       None    None    0    0
</pre></div></div>
</div>
</section>
</section>
<section id="9.-ã¾ã¨ã‚">
<h2>9. ã¾ã¨ã‚<a class="headerlink" href="#9.-ã¾ã¨ã‚" title="Link to this heading">ïƒ</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">gwexpy</span></code> ã¯å¤šç¨®å¤šæ§˜ãª bilimti å‘ã‘ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã®ç›¸äº’é‹ç”¨ã‚’æä¾›ã—ã€æ—¢å­˜ã®ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã¨ã®ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ãªçµ±åˆã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="intro_mapplotting.html" class="btn btn-neutral float-left" title="ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«: å…¨å¤©ãƒãƒƒãƒ—ã¨åœ°ç†ãƒãƒƒãƒ—ã®ãƒ—ãƒ­ãƒƒãƒˆ" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="matrix_timeseries.html" class="btn btn-neutral float-right" title="TimeSeriesMatrix ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2026, GWexpy contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>